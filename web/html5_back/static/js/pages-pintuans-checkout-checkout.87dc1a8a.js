(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pintuans-checkout-checkout"],{"12ea":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.goods_list.length?i("v-uni-view",{staticClass:"containers p-bottom"},[i("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+t.navH+"px;"},[i("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[i("v-uni-view",{staticClass:"index_h_cont3"},[i("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpzuo.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"index_wenben"},[t._v("立即购买")])],1)],1),i("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),i("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;padding-bottom: 120rpx;"},[t.isShowTab?i("v-uni-view",{staticClass:"swiper-tab dis-flex flex-y-center flex-x-around",staticStyle:{display:"flex"}},t._l(t.DeliveryTypeEnum,(function(e,a){return i("v-uni-view",{key:a,class:"swiper-tab-item "+(t.curDelivery==e.value?"on":""),attrs:{"data-current":e.value},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSwichDelivery.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXPRESS.value?i("v-uni-view",{staticClass:"flow-delivery",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSelectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"detail-location dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),i("v-uni-view",{staticClass:"detail-content flex-box",staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"},attrs:{"data-id":t.dizhixuanze.address_id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.genghuandizhi.apply(void 0,arguments)}}},[t.arrlist.length>0?[i("v-uni-view",{staticClass:"dizhis_dis"},[i("v-uni-view",{staticClass:"detail-content__title dis-flex"},[i("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.dizhixuanze.name))]),i("v-uni-text",{staticClass:"detail-content__title-phone f-28"},[t._v(t._s(t.dizhixuanze.phone))])],1),i("v-uni-view",{staticClass:"detail-content__describe"},[i("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.dizhixuanze.province)+" "+t._s(t.dizhixuanze.city)+" "+t._s(t.dizhixuanze.region)+" "+t._s(t.dizhixuanze.detail))])],1)],1),i("v-uni-view",{staticClass:"dizhis_dis_img"},[t._v("更换")])]:[i("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[i("v-uni-text",{staticClass:"col-6"},[t._v("请选择配送地址")])],1),i("v-uni-view",{staticClass:"dizhis_dis_img"},[t._v("去选择")])]],2),i("v-uni-view",{staticClass:"detail-arrow dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXTRACT.value?[i("v-uni-view",{staticClass:"flow-delivery",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSelectExtractPoint.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"detail-location dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),i("v-uni-view",{staticClass:"detail-content flex-box"},[t.extract_shop.shop_id?[i("v-uni-view",{staticClass:"detail-content__title dis-flex"},[i("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.extract_shop.shop_name))])],1),i("v-uni-view",{staticClass:"detail-content__describe"},[i("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.extract_shop.region.province)+" "+t._s(t.extract_shop.region.city)+" "+t._s(t.extract_shop.region.region)+" "+t._s(t.extract_shop.address))])],1)]:[i("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[i("v-uni-text",{staticClass:"col-6"},[t._v("请选择自提点")])],1)]],2),i("v-uni-view",{staticClass:"detail-arrow dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1),i("v-uni-view",{staticClass:"flow-extract-contact m-top20 b-f"},[i("v-uni-view",{staticClass:"contact-item dis-flex"},[i("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[i("v-uni-text",[t._v("联系人：")])],1),i("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[i("v-uni-input",{attrs:{placeholder:"请填写联系人姓名",value:t.linkman},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputLinkman.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"contact-item dis-flex"},[i("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[i("v-uni-text",[t._v("联系电话：")])],1),i("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[i("v-uni-input",{attrs:{placeholder:"请填写联系电话",value:t.phone},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputPhone.apply(void 0,arguments)}}})],1)],1)],1)]:t._e(),i("v-uni-view",{staticClass:"m-top20"},[t._l(t.goods_list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"checkout_list"},[i("v-uni-form",{attrs:{"data-id":e.goods_id,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"flow-shopList dis-flex",attrs:{"data-index":a}},[i("v-uni-view",{staticClass:"flow-list-right flex-box"},[i("v-uni-text",{staticClass:"f-30 col-3 twolist-hidden"},[t._v(t._s(e.url))]),i("v-uni-view",{staticClass:"flow-list-cont dis-flex flex-x-between flex-y-center"},[i("v-uni-text",{staticClass:"small"},[t._v("×"+t._s(e.num))]),i("v-uni-text",{staticStyle:{color:"red","font-size":"26rpx"}},[t._v("价格：￥"+t._s(e.price))])],1),i("v-uni-view",{staticClass:"flow-list-cont dis-flex flex-x-between flex-y-center"},[i("v-uni-text",{staticClass:"small",staticStyle:{color:"#333"}},[t._v("运费：￥"+t._s(e.free))])],1)],1)],1)],1)],1)],1)})),i("v-uni-view",{staticClass:"flow-num-box b-f padding-box",staticStyle:{"padding-top":"20rpx","padding-bottom":"20rpx"}},[i("v-uni-text",[t._v("共"+t._s(t.order_total_num)+"件商品，合计：")]),i("v-uni-text",{staticClass:"flow-money col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],2),i("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("订单总金额：")]),i("v-uni-view",{staticClass:"flex-five t-r"},[i("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],1),i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("服务费：")]),i("v-uni-view",{staticClass:"flex-five t-r"},[i("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.service_free))])],1)],1)],1),i("v-uni-view",{staticClass:"pay-method flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("支付方式")])],1),i("v-uni-form",{attrs:{"data-value":t.PayTypeEnum.BALANCE.value,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectPayType.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"pay-item pay-method_dis dis-flex flex-x-between"},[i("v-uni-view",{staticClass:"item-left dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"item-left_icon balance"},[i("v-uni-text",{staticClass:"iconfont icon-qiandai"})],1),i("v-uni-view",{staticClass:"item-left_text"},[i("v-uni-text",[t._v(t._s(t.PayTypeEnum.BALANCE.name))])],1)],1),t.curPayType==t.PayTypeEnum.BALANCE.value?i("v-uni-view",{staticClass:"item-right col-m method_dis_dis"},[i("v-uni-image",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"http://daigou.sllowly.cn/assets/api/selected.png"}})],1):t._e()],1)],1)],1)],1),i("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"ipt-wrapper dis-flex flow-all-list"},[i("v-uni-input",{attrs:{placeholder:"选填：买家留言（50字以内）",value:t.remark},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindRemark.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"flow-fixed-footer b-f m-top10"},[i("v-uni-view",{staticClass:"dis-flex chackout-box",staticStyle:{display:"flex","align-items":"center"}},[i("v-uni-view",{staticClass:"chackout-left pl-12"},[t._v("实付款："),i("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_pay_price))])],1),i("v-uni-view",{staticClass:"chackout-right",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSubmitOrder.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"flow-btn f-32"},[t._v("提交订单")])],1)],1)],1)],2)],1):t._e()},n=[]},"1fb7":function(t,e,i){i("d3b7");var a=getApp(),o=a.globalData.url;function n(t,e){var i=new Promise((function(i,a){uni.showLoading({title:"加载中..."}),uni.request({url:o+"".concat(t),data:e,method:"POST",header:{platform:"H5"},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:"您的登录状态已过期，请重新登录！",showCancel:!1,confirmText:"去登录",success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),i(t)},fail:function(t){uni.showToast({title:"网络似乎开小差了2",icon:"none",duration:2e3}),a(t)}})}));return i}function s(t,e){var i=new Promise((function(i,a){uni.showLoading({title:"加载中..."}),uni.request({url:o+"".concat(t),data:e,method:"GET",header:{platform:"H5"},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(console.log(333),uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:"您的登录状态已过期，请重新登录！",showCancel:!1,confirmText:"去登录",success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),i(t)},fail:function(t){uni.showToast({title:"网络似乎开小差了",icon:"none",duration:2e3}),a(t)}})}));return i}t.exports={post:n,get:s}},"2b29":function(t,e,i){"use strict";i("ac1f"),i("466d"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.isDouble=e.isInteger=e.isPositiveInteger=e.isNumber=e.isEmail=e.isMobile=e.isPhone=e.isEmpty=void 0;var a=function(t){return""==t.trim()};e.isEmpty=a;var o=function(t){var e=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;return e.test(t)};e.isPhone=o;var n=function(t){var e=/^(1[3456789]\d{9})$/;return e.test(t)};e.isMobile=n;var s=function(t){if(null==t||""==t)return!1;var e=t.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/);return null!=e};e.isEmail=s;var r=function(t){return!(!c(t)&&!d(t))};e.isNumber=r;var l=function(t){return/(^[0-9]\d*$)/.test(t)};e.isPositiveInteger=l;var d=function(t){if(null==t||""==t)return!1;var e=t.match(/^[-\+]?\d+$/);return null!=e};e.isInteger=d;var c=function(t){if(null==t||""==t)return!1;var e=t.match(/^[-\+]?\d+(\.\d+)?$/);return null!=e};e.isDouble=c},"65cf":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n\n/* 选项卡 */.swiper-tab[data-v-ed1a88e2]{width:100%;text-align:center;height:%?85?%;background-color:#fff;border-bottom:1px solid #f8f8f8}.swiper-tab .swiper-tab-item[data-v-ed1a88e2]{width:35%;height:100%;font-size:%?28?%;color:#777;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-bottom:2px solid hsla(0,0%,100%,0)}.swiper-tab .on[data-v-ed1a88e2]{color:#fd4a5f;border-bottom:2px solid #fd4a5f}\n\n/* 配送信息 */.flow-delivery[data-v-ed1a88e2]{padding:%?34?% %?30?%;background:#fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAAANCAYAAADVGpDCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3Yjk4M2ExYy1jMDhkLTQ1OTktYTI0Ny1kZjNjYzdiYTQ5ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQwNkY3RkU5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQwNkY3RkQ5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNzgwZWI1NS03OGFhLTQzOTUtODQ4OC1lOWI5YmVlYTY1ZDciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1OTRiYzUyMy1jMzc3LTExNzgtYTdkZS04NGY3YmM1ZGIxMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz556PLxAAACBElEQVR42tyaSyhEYRTHP48imlKibDQeSSlkSlEWLCRFsZNH5FE2FqQ8ErIRC9lIkTwXSpMkWWChhEJCSnlkoUZGSsr78f98n43CMFPu/Z/6NZuZ2zn33/+cb869XkmLx8IDEQaGQJbgiytQDSY3MyL+LYnL/HxPXSoHDIJQQq2WQQk4Dbbb/yUB29LJ+6e3B66VB3ZITbUIEqSpCGoJBP1ghtBUD6ARpEtTGSEhXzd+awE9oJzQUPegWdf3QlBPMhgDMYRa7YNisGWkpP5qrBQtVBShUHugUE9hs4fUtwG0utlEjRivoA/Ug1sj3vjffr8FNJEK1auPFHcE9UTq5pdK2PwcoAzMG7mjuRrRYEIfK9jiDJSCBZJ6ynSTsBBqNQ0qgdPISbq6vJCFbJOaagrEk5gqWNczRGiqG1Ah1LLMafRkf5pYIUKtZnMJDXUNasAIST2ZYFioRx9ssQaKwJFZEv5uYmWDXVJTrYBEElP562PfPKGpnkAbSDOTqb6aWAGgW6iHol5kQj2CdtAJngnqkc1hHMQRNr9DPaXWzZj8Z2PZtFCxhEIdaKE2CGqRJ4060AH8CLUaALX6f5VpBZLhI9SaeZXQVHKNLt84SCIxVbhQi5YuQlNd6OVElZlN9TGxrGBUn2PZ4lyoTdIsST0FQj0UDSLUak6ot3gcBLVY3wQYAJoVXxmNERajAAAAAElFTkSuQmCC") 0 100% repeat-x;background-size:%?120?% auto}.detail-content[data-v-ed1a88e2]{padding:0 %?20?%}.detail-content__title[data-v-ed1a88e2]{margin-bottom:%?6?%}.detail-content .detail-content__title-phone[data-v-ed1a88e2]{margin-left:%?10?%}.detail-content .detail-content__describe[data-v-ed1a88e2]{font-size:%?28?%}\n\n/* 买家留言 */.flow-all-money .ipt-wrapper uni-input[data-v-ed1a88e2]{width:100%;height:%?75?%}\n\n/* 商品列表 */.checkout_list[data-v-ed1a88e2]{padding:%?20?% %?30?% %?4?% %?30?%;background:#fff;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-ed1a88e2]{padding:%?5?% 0 %?10?%;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-ed1a88e2]:last-child{border-bottom:0}.flow-header-left[data-v-ed1a88e2]{padding-left:%?90?%}\n\n/* 会员价 */.flow-shopList .flow-list-right .flow-cont.price-delete[data-v-ed1a88e2]{font-size:%?26?%;color:#777;text-decoration:line-through}.flow-shopList .grade-price[data-v-ed1a88e2]{padding-top:%?8?%;font-size:%?28?%;color:#ff495e;text-align:right}\n\n/* 优惠券选择 */.popup__coupon[data-v-ed1a88e2]{width:%?750?%;background:#fff;box-sizing:border-box;padding:%?30?%}.popup__coupon .coupon__do_not .control[data-v-ed1a88e2]{width:90%;height:%?72?%;margin-bottom:%?24?%;color:#888;border:%?1?% solid #e3e3e3;border-radius:%?10?%}.popup__coupon .coupon__title[data-v-ed1a88e2]{text-align:center;margin-bottom:%?30?%}.popup__coupon .coupon-list .coupon-item[data-v-ed1a88e2]{position:relative;overflow:hidden;margin-bottom:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper[data-v-ed1a88e2]{display:flex;background:#fff;border-radius:%?8?%;color:#fff;height:%?170?%;overflow:hidden}.popup__coupon .coupon-list .coupon-item .item-wrapper .coupon-type[data-v-ed1a88e2]{position:absolute;top:0;right:0;z-index:10;width:%?128?%;padding:3px 0;background:#a771ff;font-size:%?20?%;text-align:center;color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:%?64?% %?64?%;transform-origin:%?64?% %?64?%}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__blue[data-v-ed1a88e2]{background:linear-gradient(-125deg,#57bdbf,#2f9de2)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__red[data-v-ed1a88e2]{background:linear-gradient(-128deg,#ff6d6d,#ff3636)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet[data-v-ed1a88e2]{background:linear-gradient(-113deg,#ef86ff,#b66ff5)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet .coupon-type[data-v-ed1a88e2]{background:#55b5ff}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__yellow[data-v-ed1a88e2]{background:linear-gradient(-141deg,#f7d059,#fdb054)}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip[data-v-ed1a88e2]{position:relative;flex:0 0 32%;text-align:center;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .money[data-v-ed1a88e2]{font-weight:700;font-size:%?46?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .pay-line[data-v-ed1a88e2]{font-size:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-ed1a88e2]{position:relative;flex:0 0 0;border-left:%?4?% solid #fff;margin:0 5px 0 3px;background:#fff}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-ed1a88e2]:before,\n.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-ed1a88e2]:after{content:"";position:absolute;width:12px;height:6px;background:#fff;left:-7px;z-index:1}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-ed1a88e2]:before{border-radius:0 0 8px 8px;top:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-ed1a88e2]:after{border-radius:8px 8px 0 0;bottom:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .content[data-v-ed1a88e2]{flex:1;padding:%?30?% %?20?%;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .title[data-v-ed1a88e2]{font-size:%?34?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .time[data-v-ed1a88e2]{font-size:%?24?%;line-height:%?24?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .state[data-v-ed1a88e2]{height:%?46?%;width:%?122?%;line-height:%?92?%;text-align:center;color:#fff;font-size:%?26?%}\n\n/* 积分抵扣 */.points .title[data-v-ed1a88e2]{margin-right:%?5?%}.points .icon-help[data-v-ed1a88e2]{font-size:%?28?%}.points .points-money[data-v-ed1a88e2]{margin-right:%?20?%}\n\n/* 支付方式 */.pay-method .pay-item[data-v-ed1a88e2]{padding:%?20?% 0;font-size:%?28?%\n    /* border-bottom: 1rpx solid rgb(248, 248, 248); */}.pay-method .pay-item .item-left_icon[data-v-ed1a88e2]{margin-right:%?20?%;font-size:%?32?%}.pay-method .pay-item .item-left_icon.wechat[data-v-ed1a88e2]{color:#00c800}.pay-method .pay-item .item-left_icon.balance[data-v-ed1a88e2]{color:#ff9700}\n\n/* 门店自提联系人 */.flow-extract-contact[data-v-ed1a88e2]{padding:%?8?% %?24?%;font-size:%?28?%;color:#444}.flow-extract-contact .contact-item[data-v-ed1a88e2]{padding:%?10?% 0;border-bottom:%?1?% solid #f8f8f8}.flow-extract-contact .contact-item[data-v-ed1a88e2]:last-child{border-bottom:none}.flow-extract-contact .item_label[data-v-ed1a88e2]{margin-right:%?26?%;width:%?150?%}.flow-extract-contact .item_ipt uni-input[data-v-ed1a88e2]{font-size:%?28?%;width:100%}.flow-extract-contact .item_ipt .input-placeholder[data-v-ed1a88e2]{font-size:%?28?%}.pay-method_dis[data-v-ed1a88e2]{display:flex;align-items:center;justify-content:space-between}.method_dis_dis[data-v-ed1a88e2]{display:flex;justify-content:center;align-items:center}.dizhis_dis_img[data-v-ed1a88e2]{font-size:%?24?%;color:#777;padding:%?10?% %?25?%;border:1px solid #777;border-radius:30px}',""]),t.exports=e},"6f35":function(t,e,i){"use strict";var a=i("ba16"),o=i.n(a);o.a},ba16:function(t,e,i){var a=i("65cf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("3471dcdd",a,!0,{sourceMap:!1,shadowMode:!1})},c1eb5:function(t,e){t.exports={BALANCE:{name:"余额支付",value:10},WECHAT:{name:"微信支付",value:20}}},c52c:function(t,e,i){"use strict";i.r(e);var a=i("12ea"),o=i("f0b5");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("6f35");var s,r=i("f0c5"),l=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"ed1a88e2",null,!1,a["a"],s);e["default"]=l.exports},ee3d:function(t,e,i){"use strict";var a=i("4ea4");i("a9e3"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("3f60")),n=a(i("21bd")),s=a(i("42a4")),r=(a(i("6f54")),a(i("2b29"))),l=a(i("ef87")),d=a(i("c1eb5")),c=a(i("57a6")),u=getApp(),p=i("1fb7"),v={components:{zanPopup:o.default,zanDialog:n.default,shortcut:s.default},data:function(){return{navH:0,gaodu:u.globalData.height,gaodutops:u.globalData.top,options:{},setting:{delivery:[],points_name:""},isShowTab:!1,DeliveryTypeEnum:l.default,curDelivery:null,PayTypeEnum:d.default,curPayType:d.default.BALANCE.value,address:null,exist_address:!1,selectedShopId:0,linkman:"",phone:"",goods:{},selectCouponId:0,isUsePoints:!1,remark:"",disabled:!1,has_error:!1,error_msg:"",notRefresh:!1,showBottomPopup:!1,goods_list:{length:""},value:"",province:"",city:"",region:"",extract_shop:{shop_id:"",shop_name:"",region:{province:"",city:"",region:""},address:""},order_total_num:0,order_total_price:"",coupon_list:{length:0},coupon_id:0,coupon_money:"",is_allow_points:[],points_money:"",intra_region:"",express_price:"",name:"",order_pay_price:0,address_id:"",dizhixuanze:{},arrlist:[],service_free:0}},onLoad:function(t){var e=this;e.setData({options:t,goods_list:JSON.parse(t.item)});for(var i=JSON.parse(t.item),a=0,o=0,n=0;n<i.length;n++)a+=Number(i[n].num),o=o+Number(i[n].num*i[n].price)+Number(i[n].free);e.setData({order_total_num:a,order_total_price:o}),e.fuwufei(),console.log(a,"pp",o)},onShow:function(){},methods:{fuwufei:function(){var t=this,e={items:t.goods_list,token:uni.getStorageSync("token")};p.post("index.php?s=/api/Buyer/checkOut&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(e){1==e.data.code?t.setData({service_free:e.data.data.service_free,order_pay_price:Number(e.data.data.service_free)+Number(t.order_total_price)}):uni.showToast({title:e.data.msg,icon:"none"})}))},jumpzuo:function(){uni.navigateBack()},getOrderData:function(){var t=this,e=t.options,i=function(e){var i=e.data;if(1!==e.code)return u.globalData.showError(e.msg),!1;var a={};a.curDelivery=i.delivery,a.isShowTab=i.setting.delivery.length>1,""===t.linkman&&(a.linkman=i.last_extract.linkman),""===t.phone&&(a.phone=i.last_extract.phone),t.setData(Object.assign({},i,a)),uni.hideLoading()};uni.showLoading({title:"加载中..."});var a={delivery:t.curDelivery||0,shop_id:t.selectedShopId||0,coupon_id:t.selectCouponId||0,is_use_points:t.isUsePoints?1:0};"buyNow"===e.order_type?u.globalData._get("order/buyNow",Object.assign({},a,{goods_id:e.goods_id,goods_num:e.goods_num,goods_sku_id:e.goods_sku_id}),(function(t){i(t)})):"bargain"===e.order_type?u.globalData._get("bargain.order/checkout",Object.assign({},a,{task_id:e.task_id,goods_sku_id:e.goods_sku_id}),(function(t){i(t)})):"sharp"===e.order_type?u.globalData._get("sharp.order/checkout",Object.assign({},a,{active_time_id:e.active_time_id,sharp_goods_id:e.sharp_goods_id,goods_sku_id:e.goods_sku_id,goods_num:e.goods_num}),(function(t){i(t)})):"cart"===e.order_type&&u.globalData._get("order/cart",Object.assign({},a,{cart_ids:e.cart_ids||0}),(function(t){i(t)}))},onSwichDelivery:function(t){var e=this;e.setData({curDelivery:t.currentTarget.dataset.current}),e.getOrderData()},onSelectAddress:function(){var t=this;t.setData({notRefresh:!1}),uni.navigateTo({url:"../address/"+(t.exist_address?"index?from=flow":"create")})},onSelectExtractPoint:function(){var t=this,e=t.selectedShopId;t.setData({notRefresh:!1}),uni.navigateTo({url:"../_select/extract_point/index?selected_id="+e})},onTargetGoods:function(t){uni.navigateTo({url:"../goods/index?goods_id=".concat(t.currentTarget.dataset.id)})},onSubmitOrder:function(){var t=this,e={items:t.goods_list,remark:t.remark,token:uni.getStorageSync("token")};console.log(t.remark,"remark"),p.post("index.php?s=/api/Buyer/reportBuyer&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(t){1==t.data.code?(uni.showToast({title:"购买成功"}),setTimeout((function(){var t=getCurrentPages(),e=t[t.length-2];e.setData({baoguogwc:"成功"}),uni.navigateBack({delta:1})}),2e3)):uni.showToast({title:t.data.msg,icon:"none"})}))},_onRequestSubscribeMessage:function(t){var e=this,i=e.setting.order_submsg;0!=i.length?uni.requestSubscribeMessage({tmplIds:i,success:function(t){},fail:function(t){},complete:function(e){t()}}):t()},_onSubmitCallback:function(t){var e=this;if(-10===t.code)return u.globalData.showError(t.msg,(function(){e.redirectToOrderIndex()})),!1;t.data.pay_type==d.default.WECHAT.value&&u.globalData.wxPayment({payment:t.data.payment,success:function(t){e.redirectToOrderIndex()},fail:function(i){u.globalData.showError(t.msg.error,(function(){e.redirectToOrderIndex()}))}}),t.data.pay_type==d.default.BALANCE.value&&u.globalData.showSuccess(t.msg.success,(function(){e.redirectToOrderIndex()}))},_onVerify:function(){var t=this;if(t.curDelivery==l.default.EXTRACT.value){if(t.setData({linkman:t.linkman.trim(),phone:t.phone.trim()}),t.selectedShopId<=0)return u.globalData.showError("请选择自提的门店"),!1;if(r.default.isEmpty(t.linkman))return u.globalData.showError("请填写自提联系人"),!1;if(r.default.isEmpty(t.phone))return u.globalData.showError("请填写自提联系电话"),!1;if(!r.default.isPhone(t.phone))return u.globalData.showError("请输入正确的联系电话"),!1}return!0},bindRemark:function(t){var e=this;e.setData({remark:t.detail.value})},onTogglePopupCoupon:function(){var t=this;t.coupon_list.length>0&&t.setData({showBottomPopup:!t.showBottomPopup})},onSelectCoupon:function(t){var e=this;e.setData({selectCouponId:t.currentTarget.dataset.id}),e.getOrderData(),e.onTogglePopupCoupon()},onNotUseCoupon:function(){var t=this;t.setData({selectCouponId:0}),t.getOrderData(),t.onTogglePopupCoupon()},onSelectPayType:function(t){var e=this;u.globalData.saveFormId(t.detail.formId),e.setData({curPayType:t.currentTarget.dataset.value})},redirectToOrderIndex:function(){uni.redirectTo({url:"../order/index"})},onInputLinkman:function(t){var e=this;e.setData({linkman:t.detail.value})},onInputPhone:function(t){var e=this;e.setData({phone:t.detail.value})},onTriggerPoints:function(t){var e=t.detail,i=this;i.setData({isUsePoints:e}),i.getOrderData()},onShowPoints:function(t){var e=this;u.globalData.saveFormId(t.detail.formId);var i=e.setting;(0,c.default)({title:"".concat(i.points_name,"说明"),message:i.points_describe,selector:"#zan-base-dialog",isScroll:!0,buttons:[{text:"关闭",color:"red",type:"cash"}]})}}};e.default=v},ef87:function(t,e){t.exports={EXPRESS:{name:"快递配送",value:10},EXTRACT:{name:"上门自提",value:20}}},f0b5:function(t,e,i){"use strict";i.r(e);var a=i("ee3d"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a}}]);