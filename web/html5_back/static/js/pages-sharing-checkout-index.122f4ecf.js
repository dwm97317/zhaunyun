(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharing-checkout-index"],{1530:function(t,e,i){"use strict";var o=i("1bce"),a=i.n(o);a.a},"1bce":function(t,e,i){var o=i("9bb0");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("6cde125c",o,!0,{sourceMap:!1,shadowMode:!1})},"1fb7":function(t,e,i){i("d3b7");var o=getApp(),a=o.globalData.url;function n(t,e){var i=new Promise((function(i,o){uni.showLoading({title:"加载中..."}),uni.request({url:a+"".concat(t),data:e,method:"POST",header:{platform:"H5"},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:"您的登录状态已过期，请重新登录！",showCancel:!1,confirmText:"去登录",success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),i(t)},fail:function(t){uni.showToast({title:"网络似乎开小差了2",icon:"none",duration:2e3}),o(t)}})}));return i}function s(t,e){var i=new Promise((function(i,o){uni.showLoading({title:"加载中..."}),uni.request({url:a+"".concat(t),data:e,method:"GET",header:{platform:"H5"},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(console.log(333),uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:"您的登录状态已过期，请重新登录！",showCancel:!1,confirmText:"去登录",success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),i(t)},fail:function(t){uni.showToast({title:"网络似乎开小差了",icon:"none",duration:2e3}),o(t)}})}));return i}t.exports={post:n,get:s}},"2b29":function(t,e,i){"use strict";i("ac1f"),i("466d"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.isDouble=e.isInteger=e.isPositiveInteger=e.isNumber=e.isEmail=e.isMobile=e.isPhone=e.isEmpty=void 0;var o=function(t){return""==t.trim()};e.isEmpty=o;var a=function(t){var e=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;return e.test(t)};e.isPhone=a;var n=function(t){var e=/^(1[3456789]\d{9})$/;return e.test(t)};e.isMobile=n;var s=function(t){if(null==t||""==t)return!1;var e=t.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/);return null!=e};e.isEmail=s;var l=function(t){return!(!u(t)&&!c(t))};e.isNumber=l;var r=function(t){return/(^[0-9]\d*$)/.test(t)};e.isPositiveInteger=r;var c=function(t){if(null==t||""==t)return!1;var e=t.match(/^[-\+]?\d+$/);return null!=e};e.isInteger=c;var u=function(t){if(null==t||""==t)return!1;var e=t.match(/^[-\+]?\d+(\.\d+)?$/);return null!=e};e.isDouble=u},"2d6e":function(t,e,i){"use strict";i.r(e);var o=i("b539"),a=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},"5ccb":function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{},[i("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+t.navH+"px;"},[i("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[i("v-uni-view",{staticClass:"index_h_cont3"},[i("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpzuo.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"index_wenben"},[t._v("发起拼团")])],1)],1),i("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),i("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;padding-bottom:96rpx;"},[t.goods_list.length?i("v-uni-view",{staticClass:"containers p-bottom"},[t.isShowTab?i("v-uni-view",{staticClass:"swiper-tab dis-flex flex-y-center flex-x-around"},t._l(t.DeliveryTypeEnum,(function(e,o){return i("v-uni-view",{key:o,class:"swiper-tab-item "+(t.curDelivery==e.value?"on":""),attrs:{"data-current":e.value},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSwichDelivery.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXPRESS.value?i("v-uni-view",{staticClass:"flow-delivery",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSelectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"detail-location dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),i("v-uni-view",{staticClass:"detail-content flex-box"},[t.arrlist.length>0?[i("v-uni-view",{staticClass:"address_indexs"},[i("v-uni-view",{staticClass:"address_indexs_l"},[i("v-uni-view",{staticClass:"detail-content__title dis-flex"},[i("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.dizhixuanze.name))]),i("v-uni-text",{staticClass:"detail-content__title-phone f-28"},[t._v(t._s(t.dizhixuanze.phone))])],1),i("v-uni-view",{staticClass:"detail-content__describe"},[i("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.dizhixuanze.province)+" "+t._s(t.dizhixuanze.city)+" "+t._s(t.dizhixuanze.region)+" "+t._s(t.dizhixuanze.detail))])],1)],1),i("v-uni-view",{staticClass:"address_indexs_r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.genghuandizhi.apply(void 0,arguments)}}},[t._v("更换")])],1)]:[i("v-uni-view",{staticClass:"address_indexs"},[i("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[i("v-uni-text",{staticClass:"col-6"},[t._v("请选择配送地址")])],1),i("v-uni-view",{staticClass:"address_indexs_r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.genghuandizhi.apply(void 0,arguments)}}},[t._v("更换")])],1)]],2),i("v-uni-view",{staticClass:"detail-arrow dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXTRACT.value?[i("v-uni-view",{staticClass:"flow-delivery",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSelectExtractPoint.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"detail-location dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),i("v-uni-view",{staticClass:"detail-content flex-box"},[t.extract_shop.shop_id?[i("v-uni-view",{staticClass:"detail-content__title dis-flex"},[i("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.extract_shop.shop_name))])],1),i("v-uni-view",{staticClass:"detail-content__describe"},[i("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.extract_shop.region.province)+" "+t._s(t.extract_shop.region.city)+" "+t._s(t.extract_shop.region.region)+" "+t._s(t.extract_shop.address))])],1)]:[i("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[i("v-uni-text",{staticClass:"col-6"},[t._v("请选择自提点")])],1)]],2),i("v-uni-view",{staticClass:"detail-arrow dis-flex"},[i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1),i("v-uni-view",{staticClass:"flow-extract-contact m-top20 b-f"},[i("v-uni-view",{staticClass:"contact-item dis-flex"},[i("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[i("v-uni-text",[t._v("联系人：")])],1),i("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[i("v-uni-input",{attrs:{placeholder:"请填写联系人姓名",value:t.linkman},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputLinkman.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"contact-item dis-flex"},[i("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[i("v-uni-text",[t._v("联系电话：")])],1),i("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[i("v-uni-input",{attrs:{placeholder:"请填写联系电话",value:t.phone},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputPhone.apply(void 0,arguments)}}})],1)],1)],1)]:t._e(),i("v-uni-view",{staticClass:"m-top20"},[t._l(t.goods_list,(function(e,o){return i("v-uni-view",{key:o,staticClass:"checkout_list"},[i("v-uni-form",{attrs:{"data-id":e.goods_id,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"flow-shopList dis-flex",attrs:{"data-index":o}},[i("v-uni-view",{staticClass:"flow-list-left"},[i("v-uni-image",{attrs:{mode:"scaleToFill",src:e.goods_image}})],1),i("v-uni-view",{staticClass:"flow-list-right flex-box"},[i("v-uni-text",{staticClass:"f-30 col-3 twolist-hidden"},[t._v(t._s(e.goods_name))]),i("v-uni-text",{staticClass:"f-24 col-7"},[t._v(t._s(e.goods_sku.goods_attr))]),i("v-uni-view",{staticClass:"flow-list-cont dis-flex flex-x-between flex-y-center"},[i("v-uni-text",{staticClass:"small"},[t._v("×"+t._s(e.total_num))]),i("v-uni-text",{class:"flow-cont "+(e.is_user_grade?"price-delete":"")},[t._v("￥"+t._s(e.goods_price))])],1),e.is_user_grade?i("v-uni-view",{staticClass:"grade-price"},[i("v-uni-text",[t._v("会员折扣价：￥"+t._s(e.grade_goods_price))])],1):t._e()],1)],1)],1)],1)],1)})),i("v-uni-view",{staticClass:"flow-num-box b-f padding-box"},[i("v-uni-text",[t._v("共"+t._s(t.order_total_num)+"件商品，合计：")]),i("v-uni-text",{staticClass:"flow-money col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],2),i("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("订单总金额：")]),i("v-uni-view",{staticClass:"flex-five t-r"},[i("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],1),i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("优惠券：")]),i("v-uni-view",{staticClass:"flex-five t-r"},[i("v-uni-view",{staticClass:"flow-list-coupon",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onTogglePopupCoupon.apply(void 0,arguments)}}},[t.coupon_list.length>0?[t.coupon_id>0?i("v-uni-text",{staticClass:"col-m"},[t._v("-￥"+t._s(t.coupon_money))]):i("v-uni-text",{staticClass:"col-m"},[t._v("有"+t._s(t.coupon_list.length)+"张优惠券可用")]),i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})]:i("v-uni-text",{},[t._v("无优惠券可用")])],2)],1)],1),t.is_allow_points?i("v-uni-view",{staticClass:"points flow-all-list dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"block-left flex-five"},[i("v-uni-form",{staticClass:"flex-five",attrs:{"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowPoints.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-text",{staticClass:"title"},[t._v("可用"+t._s(t.setting.points_name)+"抵扣：")]),i("v-uni-text",{staticClass:"iconfont icon-help"})],1)],1)],1),i("v-uni-view",{staticClass:"flex-five dis-flex flex-x-end flex-y-center"},[i("v-uni-text",{staticClass:"points-money col-m"},[t._v("￥"+t._s(t.points_money))]),i("van-switch",{attrs:{checked:t.isUsePoints,size:"48rpx","active-color":"#07c160"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onTriggerPoints.apply(void 0,arguments)}}})],1)],1):t._e()],1),i("v-uni-view",{staticClass:"pay-method flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"flow-all-list dis-flex"},[i("v-uni-text",{staticClass:"flex-five"},[t._v("支付方式")])],1),i("v-uni-form",{attrs:{"data-value":t.PayTypeEnum.BALANCE.value,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectPayType.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"pay-item dis-flex flex-x-between"},[i("v-uni-view",{staticClass:"item-left dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"item-left_icon balance"},[i("v-uni-text",{staticClass:"iconfont icon-qiandai"})],1),i("v-uni-view",{staticClass:"item-left_text"},[i("v-uni-text",[t._v(t._s(t.PayTypeEnum.BALANCE.name))])],1)],1),t.curPayType==t.PayTypeEnum.BALANCE.value?i("v-uni-view",{staticClass:"item-right col-m"},[i("v-uni-image",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"http://daigou.sllowly.cn/assets/api/selected.png"}})],1):t._e()],1)],1)],1)],1),i("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[i("v-uni-view",{staticClass:"ipt-wrapper dis-flex flow-all-list"},[i("v-uni-input",{attrs:{placeholder:"选填：买家留言（50字以内）",value:t.remark},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindRemark.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"flow-fixed-footer b-f m-top10"},[i("v-uni-view",{staticClass:"dis-flex chackout-box"},[i("v-uni-view",{staticClass:"chackout-left pl-12"},[t._v("实付款："),i("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_pay_price))])],1),i("v-uni-view",{staticClass:"chackout-right",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSubmitOrder.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"flow-btn"},[t._v("提交订单")])],1)],1)],1),i("zan-popup",{attrs:{show:t.showBottomPopup,type:"bottom"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onTogglePopupCoupon.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"popup__coupon"},[i("v-uni-view",{staticClass:"coupon__title f-32"},[t._v("选择优惠券")]),i("v-uni-view",{staticClass:"coupon-list"},[i("v-uni-scroll-view",{staticStyle:{height:"565rpx"},attrs:{"scroll-y":!0}},t._l(t.coupon_list,(function(e,o){return i("v-uni-view",{key:o,staticClass:"coupon-item"},[i("v-uni-view",{class:"item-wrapper color__"+e.color.text,attrs:{"data-index":o,"data-id":e.user_coupon_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onSelectCoupon.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"coupon-type"},[t._v(t._s(e.coupon_type.text))]),i("v-uni-view",{staticClass:"tip dis-flex flex-dir-column flex-x-center"},[10==e.coupon_type.value?i("v-uni-view",[i("v-uni-text",{staticClass:"f-30"},[t._v("￥")]),i("v-uni-text",{staticClass:"money"},[t._v(t._s(e.reduce_price))])],1):t._e(),20==e.coupon_type.value?i("v-uni-text",{staticClass:"money"},[t._v(t._s(e.discount)+"折")]):t._e(),i("v-uni-text",{staticClass:"pay-line"},[t._v("满"+t._s(e.min_price)+"元可用")])],1),i("v-uni-view",{staticClass:"split-line"}),i("v-uni-view",{staticClass:"content dis-flex flex-dir-column flex-x-between"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"bottom dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"time flex-box"},[i("v-uni-text",[t._v("有效期："+t._s(e.start_time.text)+"~"+t._s(e.end_time.text))])],1)],1)],1)],1)],1)})),1)],1),i("v-uni-view",{staticClass:"coupon__do_not dis-flex flex-y-center flex-x-center"},[i("v-uni-view",{staticClass:"control dis-flex flex-y-center flex-x-center",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onNotUseCoupon.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"f-26"},[t._v("不使用优惠券")])],1)],1)],1)],1),i("zan-dialog",{attrs:{id:"zan-base-dialog"}})],2):t._e()],1)],1)},n=[]},"9bb0":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";.address_indexs[data-v-6a1bee2e]{display:flex;align-items:center;justify-content:space-between}.address_indexs_r[data-v-6a1bee2e]{font-size:%?24?%;color:#777;border:1px solid #777;padding:%?8?% %?20?%;border-radius:%?50?%}\r\n\r\n/* 选项卡 */.swiper-tab[data-v-6a1bee2e]{width:100%;text-align:center;height:%?85?%;background-color:#fff;border-bottom:1px solid #f8f8f8}.swiper-tab .swiper-tab-item[data-v-6a1bee2e]{width:35%;height:100%;font-size:%?28?%;color:#777;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-bottom:2px solid hsla(0,0%,100%,0)}.swiper-tab .on[data-v-6a1bee2e]{color:#fd4a5f;border-bottom:2px solid #fd4a5f}\r\n\r\n/* 配送信息 */.flow-delivery[data-v-6a1bee2e]{padding:%?34?% %?30?%;background:#fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAAANCAYAAADVGpDCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3Yjk4M2ExYy1jMDhkLTQ1OTktYTI0Ny1kZjNjYzdiYTQ5ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQwNkY3RkU5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQwNkY3RkQ5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNzgwZWI1NS03OGFhLTQzOTUtODQ4OC1lOWI5YmVlYTY1ZDciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1OTRiYzUyMy1jMzc3LTExNzgtYTdkZS04NGY3YmM1ZGIxMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz556PLxAAACBElEQVR42tyaSyhEYRTHP48imlKibDQeSSlkSlEWLCRFsZNH5FE2FqQ8ErIRC9lIkTwXSpMkWWChhEJCSnlkoUZGSsr78f98n43CMFPu/Z/6NZuZ2zn33/+cb869XkmLx8IDEQaGQJbgiytQDSY3MyL+LYnL/HxPXSoHDIJQQq2WQQk4Dbbb/yUB29LJ+6e3B66VB3ZITbUIEqSpCGoJBP1ghtBUD6ARpEtTGSEhXzd+awE9oJzQUPegWdf3QlBPMhgDMYRa7YNisGWkpP5qrBQtVBShUHugUE9hs4fUtwG0utlEjRivoA/Ug1sj3vjffr8FNJEK1auPFHcE9UTq5pdK2PwcoAzMG7mjuRrRYEIfK9jiDJSCBZJ6ynSTsBBqNQ0qgdPISbq6vJCFbJOaagrEk5gqWNczRGiqG1Ah1LLMafRkf5pYIUKtZnMJDXUNasAIST2ZYFioRx9ssQaKwJFZEv5uYmWDXVJTrYBEElP562PfPKGpnkAbSDOTqb6aWAGgW6iHol5kQj2CdtAJngnqkc1hHMQRNr9DPaXWzZj8Z2PZtFCxhEIdaKE2CGqRJ4060AH8CLUaALX6f5VpBZLhI9SaeZXQVHKNLt84SCIxVbhQi5YuQlNd6OVElZlN9TGxrGBUn2PZ4lyoTdIsST0FQj0UDSLUak6ot3gcBLVY3wQYAJoVXxmNERajAAAAAElFTkSuQmCC") 0 100% repeat-x;background-size:%?120?% auto}.detail-content[data-v-6a1bee2e]{padding:0 %?20?%}.detail-content__title[data-v-6a1bee2e]{margin-bottom:%?6?%}.detail-content .detail-content__title-phone[data-v-6a1bee2e]{margin-left:%?10?%}.detail-content .detail-content__describe[data-v-6a1bee2e]{font-size:%?28?%}\r\n\r\n/* 买家留言 */.flow-all-money .ipt-wrapper uni-input[data-v-6a1bee2e]{width:100%}\r\n\r\n/* 商品列表 */.checkout_list[data-v-6a1bee2e]{padding:%?20?% %?30?% %?4?% %?30?%;background:#fff;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-6a1bee2e]{padding:%?5?% 0 %?10?%;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-6a1bee2e]:last-child{border-bottom:0}.flow-header-left[data-v-6a1bee2e]{padding:%?0?% %?90?%}\r\n\r\n/* 会员价 */.flow-shopList .flow-list-right .flow-cont.price-delete[data-v-6a1bee2e]{font-size:%?26?%;color:#777;text-decoration:line-through}.flow-shopList .grade-price[data-v-6a1bee2e]{padding-top:%?8?%;font-size:%?28?%;color:#ff495e;text-align:right}\r\n\r\n/* 优惠券选择 */.popup__coupon[data-v-6a1bee2e]{width:%?750?%;background:#fff;box-sizing:border-box;padding:%?30?%}.popup__coupon .coupon__do_not .control[data-v-6a1bee2e]{width:90%;height:%?72?%;margin-bottom:%?24?%;color:#888;border:%?1?% solid #e3e3e3;border-radius:%?10?%}.popup__coupon .coupon__title[data-v-6a1bee2e]{text-align:center;margin-bottom:%?30?%}.popup__coupon .coupon-list .coupon-item[data-v-6a1bee2e]{position:relative;overflow:hidden;margin-bottom:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper[data-v-6a1bee2e]{display:flex;background:#fff;border-radius:%?8?%;color:#fff;height:%?170?%;overflow:hidden}.popup__coupon .coupon-list .coupon-item .item-wrapper .coupon-type[data-v-6a1bee2e]{position:absolute;top:0;right:0;z-index:10;width:%?128?%;padding:3px 0;background:#a771ff;font-size:%?20?%;text-align:center;color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:%?64?% %?64?%;transform-origin:%?64?% %?64?%}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__blue[data-v-6a1bee2e]{background:linear-gradient(-125deg,#57bdbf,#2f9de2)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__red[data-v-6a1bee2e]{background:linear-gradient(-128deg,#ff6d6d,#ff3636)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet[data-v-6a1bee2e]{background:linear-gradient(-113deg,#ef86ff,#b66ff5)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet .coupon-type[data-v-6a1bee2e]{background:#55b5ff}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__yellow[data-v-6a1bee2e]{background:linear-gradient(-141deg,#f7d059,#fdb054)}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip[data-v-6a1bee2e]{position:relative;flex:0 0 32%;text-align:center;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .money[data-v-6a1bee2e]{font-weight:700;font-size:%?46?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .pay-line[data-v-6a1bee2e]{font-size:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-6a1bee2e]{position:relative;flex:0 0 0;border-left:%?4?% solid #fff;margin:0 5px 0 3px;background:#fff}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-6a1bee2e]:before,\r\n.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-6a1bee2e]:after{content:"";position:absolute;width:12px;height:6px;background:#fff;left:-7px;z-index:1}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-6a1bee2e]:before{border-radius:0 0 8px 8px;top:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-6a1bee2e]:after{border-radius:8px 8px 0 0;bottom:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .content[data-v-6a1bee2e]{flex:1;padding:%?30?% %?20?%;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .title[data-v-6a1bee2e]{font-size:%?34?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .time[data-v-6a1bee2e]{font-size:%?24?%;line-height:%?24?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .state[data-v-6a1bee2e]{height:%?46?%;width:%?122?%;line-height:%?92?%;text-align:center;color:#fff;font-size:%?26?%}\r\n\r\n/* 积分抵扣 */.points .title[data-v-6a1bee2e]{margin-right:%?5?%}.points .icon-help[data-v-6a1bee2e]{font-size:%?28?%}.points .points-money[data-v-6a1bee2e]{margin-right:%?20?%}\r\n\r\n/* 支付方式 */.pay-method .pay-item[data-v-6a1bee2e]{padding:%?20?% 0;font-size:%?28?%;border-bottom:%?1?% solid #f8f8f8}.pay-method .pay-item .item-left_icon[data-v-6a1bee2e]{margin-right:%?20?%;font-size:%?32?%}.pay-method .pay-item .item-left_icon.wechat[data-v-6a1bee2e]{color:#00c800}.pay-method .pay-item .item-left_icon.balance[data-v-6a1bee2e]{color:#ff9700}\r\n\r\n/* 门店自提联系人 */.flow-extract-contact[data-v-6a1bee2e]{padding:%?8?% %?24?%;font-size:%?28?%;color:#444}.flow-extract-contact .contact-item[data-v-6a1bee2e]{padding:%?10?% 0;border-bottom:%?1?% solid #f8f8f8}.flow-extract-contact .contact-item[data-v-6a1bee2e]:last-child{border-bottom:none}.flow-extract-contact .item_label[data-v-6a1bee2e]{margin-right:%?26?%;width:%?150?%}.flow-extract-contact .item_ipt uni-input[data-v-6a1bee2e]{font-size:%?28?%;width:100%}.flow-extract-contact .item_ipt .input-placeholder[data-v-6a1bee2e]{font-size:%?28?%}',""]),t.exports=e},b539:function(t,e,i){"use strict";var o=i("4ea4");i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("3f60")),n=o(i("21bd")),s=o(i("42a4")),l=(o(i("6f54")),o(i("2b29"))),r=o(i("ef87")),c=o(i("c1eb5")),u=o(i("57a6")),d=getApp(),p=i("1fb7"),v={components:{zanPopup:a.default,zanDialog:n.default,shortcut:s.default},data:function(){return{navH:0,gaodu:d.globalData.height,gaodutops:d.globalData.top,options:{},setting:{delivery:[],points_name:""},isShowTab:!1,DeliveryTypeEnum:r.default,curDelivery:null,PayTypeEnum:c.default,curPayType:c.default.BALANCE.value,address:null,exist_address:!1,selectedShopId:0,linkman:"",phone:"",goods:{},selectCouponId:0,isUsePoints:!1,remark:"",disabled:!1,has_error:!1,error_msg:"",notRefresh:!1,showBottomPopup:!1,goods_list:{length:""},value:"",province:"",city:"",region:"",extract_shop:{shop_id:"",shop_name:"",region:{province:"",city:"",region:""},address:""},order_total_num:0,order_total_price:"",coupon_list:{length:0},coupon_id:0,coupon_money:"",is_allow_points:[],points_money:"",intra_region:"",express_price:"",name:"",order_pay_price:"",address_id:"",dizhixuanze:{},arrlist:[]}},onLoad:function(t){var e=this;e.options=t,e.setData({navH:d.globalData.navHeight})},onShow:function(){var t=this;t.notRefresh||t.getOrderData();var e=getCurrentPages(),i=e[e.length-1];if(i.address_id){for(var o={},a=0;a<t.arrlist.length;a++)t.arrlist[a].address_id==i.address_id&&(o=t.arrlist[a]);t.setData({address_id:i.address_id,dizhixuanze:o}),console.log(t.address_id,"address_id?")}else t.dizhilist()},methods:{jumpzuo:function(){uni.navigateBack()},dizhilist:function(){var t=this,e={token:uni.getStorageSync("token")};p.post("index.php?s=/api/address/lists&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(e){1==e.data.code&&(t.setData({arrlist:e.data.data.list,address_id:e.data.data.list[0].address_id,dizhixuanze:e.data.data.list[0]}),console.log(t.arrlist,";ressssssss"),console.log(t.address_id,";ressssssss"))}))},genghuandizhi:function(){uni.navigateTo({url:"/pages/pintuans/dizhi/dizhi?type=xuanze"})},getOrderData:function(){var t=this,e=t.options,i=function(e){var i=e.data;if(1!==e.code)return d.globalData.showError(e.msg),!1;var o={};o.curDelivery=i.delivery,o.isShowTab=i.setting.delivery.length>1,""===t.linkman&&(o.linkman=i.last_extract.linkman),""===t.phone&&(o.phone=i.last_extract.phone),t.setData(Object.assign({},i,o)),uni.hideLoading()};uni.showLoading({title:"加载中..."}),d.globalData._get("sharing.order/checkout",{order_type:e.order_type,goods_id:e.goods_id,goods_num:e.goods_num,goods_sku_id:e.goods_sku_id,delivery:t.curDelivery||0,shop_id:t.selectedShopId||0,coupon_id:t.selectCouponId||0,is_use_points:t.isUsePoints?1:0},(function(t){i(t)}))},onSwichDelivery:function(t){var e=this;e.setData({curDelivery:t.currentTarget.dataset.current}),e.getOrderData()},onSelectAddress:function(){var t=this;t.setData({notRefresh:!1}),uni.navigateTo({url:"../../address/"+(t.exist_address?"index?from=flow":"create")})},onSelectExtractPoint:function(){var t=this,e=t.selectedShopId;t.setData({notRefresh:!1}),uni.navigateTo({url:"../../_select/extract_point/index?selected_id="+e})},onTargetGoods:function(t){uni.navigateTo({url:"../goods/index?goods_id=".concat(t.currentTarget.dataset.id)})},onSubmitOrder:function(){var t=this,e=t.options;if(t.disabled)return!1;if(!t._onVerify())return!1;t.disabled=!0;var i=function(){uni.showLoading({title:"正在处理..."}),d.globalData._post_form("sharing.order/checkout",{order_type:e.order_type||10,goods_id:e.goods_id,goods_num:e.goods_num,goods_sku_id:e.goods_sku_id,delivery:t.curDelivery||0,pay_type:t.curPayType,shop_id:t.selectedShopId||0,linkman:t.linkman,phone:t.phone,active_id:e.active_id||0,coupon_id:t.selectCouponId||0,is_use_points:t.isUsePoints?1:0,remark:t.remark||"",address_id:t.address_id},(function(e){t._onSubmitCallback(e)}),(function(t){}),(function(){uni.hideLoading(),t.disabled=!1,t.setData({notRefresh:!0})}))};i()},_onRequestSubscribeMessage:function(t){var e=this,i=e.setting.order_submsg;0!=i.length?uni.requestSubscribeMessage({tmplIds:i,success:function(t){},fail:function(t){},complete:function(e){t()}}):t()},_onSubmitCallback:function(t){var e=this;if(-10===t.code)return d.globalData.showError(t.msg,(function(){e.redirectToOrderIndex()})),!1;t.data.pay_type==c.default.WECHAT.value&&d.globalData.wxPayment({payment:t.data.payment,success:function(t){e.redirectToOrderIndex()},fail:function(i){d.globalData.showError(t.msg.error,(function(){e.redirectToOrderIndex()}))}}),t.data.pay_type==c.default.BALANCE.value&&d.globalData.showSuccess(t.msg.success,(function(){e.redirectToOrderIndex()}))},_onVerify:function(){var t=this;if(t.has_error)return d.globalData.showError(t.error_msg),!1;if(t.curDelivery==r.default.EXTRACT.value){if(t.setData({linkman:t.linkman.trim(),phone:t.phone.trim()}),t.selectedShopId<=0)return d.globalData.showError("请选择自提的门店"),!1;if(l.default.isEmpty(t.linkman))return d.globalData.showError("请填写自提联系人"),!1;if(l.default.isEmpty(t.phone))return d.globalData.showError("请填写自提联系电话"),!1;if(!l.default.isPhone(t.phone))return d.globalData.showError("请输入正确的联系电话"),!1}return!0},bindRemark:function(t){var e=this;e.setData({remark:t.detail.value})},onTogglePopupCoupon:function(){var t=this;t.coupon_list.length>0&&t.setData({showBottomPopup:!t.showBottomPopup})},onSelectCoupon:function(t){var e=this;e.setData({selectCouponId:t.currentTarget.dataset.id}),e.getOrderData(),e.onTogglePopupCoupon()},onNotUseCoupon:function(){var t=this;t.setData({selectCouponId:0}),t.getOrderData(),t.onTogglePopupCoupon()},onSelectPayType:function(t){var e=this;d.globalData.saveFormId(t.detail.formId),e.setData({curPayType:t.currentTarget.dataset.value})},redirectToOrderIndex:function(){uni.redirectTo({url:"../order/index"})},onInputLinkman:function(t){var e=this;e.setData({linkman:t.detail.value})},onInputPhone:function(t){var e=this;e.setData({phone:t.detail.value})},onTriggerPoints:function(t){var e=t.detail,i=this;i.setData({isUsePoints:e}),i.getOrderData()},onShowPoints:function(t){var e=this;d.globalData.saveFormId(t.detail.formId);var i=e.setting;(0,u.default)({title:"".concat(i.points_name,"说明"),message:i.points_describe,selector:"#zan-base-dialog",isScroll:!0,buttons:[{text:"关闭",color:"red",type:"cash"}]})}}};e.default=v},c1eb5:function(t,e){t.exports={BALANCE:{name:"余额支付",value:10},WECHAT:{name:"微信支付",value:20}}},d607:function(t,e,i){"use strict";i.r(e);var o=i("5ccb"),a=i("2d6e");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("1530");var s,l=i("f0c5"),r=Object(l["a"])(a["default"],o["b"],o["c"],!1,null,"6a1bee2e",null,!1,o["a"],s);e["default"]=r.exports},ef87:function(t,e){t.exports={EXPRESS:{name:"快递配送",value:10},EXTRACT:{name:"上门自提",value:20}}}}]);