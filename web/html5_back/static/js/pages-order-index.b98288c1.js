(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-index"],{2976:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"",""]),t.exports=e},"341e":function(t,e,a){var i=a("99a4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("18d96821",i,!0,{sourceMap:!1,shadowMode:!1})},"3f60":function(t,e,a){"use strict";a.r(e);var i=a("9e0e"),n=a("b095");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("f87d");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2dacb19d",null,!1,i["a"],r);e["default"]=d.exports},4477:function(t,e,a){var i=a("d208");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("8f16a142",i,!0,{sourceMap:!1,shadowMode:!1})},4554:function(t,e,a){"use strict";a.r(e);var i=a("f19d"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},6529:function(t,e,a){"use strict";var i=a("341e"),n=a.n(i);n.a},"73e1":function(t,e,a){var i=a("2976");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("18cda682",i,!0,{sourceMap:!1,shadowMode:!1})},"99a4":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".headers[data-v-37e0fc92]{width:100%;height:%?88?%;border-bottom:%?1?% solid #e4e4e4;display:flex;background:#fff;line-height:%?88?%;position:fixed;z-index:100}.headers uni-view[data-v-37e0fc92]{flex:1;text-align:center;padding:0 %?15?%}.headers uni-view uni-text[data-v-37e0fc92]{display:block}.headers uni-view.active[data-v-37e0fc92]{color:#fd4a5f}.headers uni-view.active uni-text[data-v-37e0fc92]{border-bottom:1px solid #fd4a5f}.order-box[data-v-37e0fc92]{padding:0 15px}.order-headers[data-v-37e0fc92]{\n    /* border-bottom: 1rpx solid #e4e4e4; */padding-top:%?10?%}.order-headers .title[data-v-37e0fc92]{font-size:%?30?%;color:#333}.order-headers .cont[data-v-37e0fc92]{\n    /* display: block; */font-size:%?30?%;color:#fd4a5f}.order-cont[data-v-37e0fc92]{padding:%?15?% 0;justify-content:space-between}.order-cont .order-num uni-text[data-v-37e0fc92],\n.order-cont .order-time uni-text[data-v-37e0fc92]{color:#777;font-size:%?26?%}.order-shop[data-v-37e0fc92]{padding:%?16?% 0 %?16?% 0}.order-shop-left[data-v-37e0fc92],\n.order-shop-left uni-image[data-v-37e0fc92]{width:%?160?%;height:%?160?%;\n    /* border: 1rpx solid #e4e4e4; */margin-right:%?15?%;display:inline-block;background:#fff}.order-shop .num[data-v-37e0fc92]{float:right}.order-btn[data-v-37e0fc92]{padding:%?18?% 0 %?18?% 0}.order-btn .order-left[data-v-37e0fc92]{flex:3}.order-btn .order-left uni-text[data-v-37e0fc92],\n.order-btn .order-left .text[data-v-37e0fc92]{font-size:%?29?%}.order-btn .order-left .text[data-v-37e0fc92]{color:#888}.order-btn .order-right[data-v-37e0fc92]{flex:3}.order-btn .order-right .btn-group[data-v-37e0fc92]{justify-content:flex-end}.order-list-box .left[data-v-37e0fc92]{flex:4;overflow:hidden;position:relative}.order-list-box .right[data-v-37e0fc92]{flex:1}.goods-number[data-v-37e0fc92]{font-size:%?28?%;color:#777}.btn-default[data-v-37e0fc92]{border-radius:4px;border:%?1?% solid #ccc;padding:%?6?% %?20?%;font-size:%?28?%;color:#555;float:right}.btn-main[data-v-37e0fc92]{border-radius:4px;border:%?1?% solid #fd4a5f;padding:%?6?% %?20?%;font-size:%?28?%;color:#fd4a5f;margin-left:%?10?%;float:right}.user-orderJtou[data-v-37e0fc92]{font-size:%?24?%}.order-img_list[data-v-37e0fc92]{background:#fff;border-top:%?1?% solid #f1f1f1;border-bottom:%?1?% solid #f1f1f1}.order-right-name[data-v-37e0fc92]{position:absolute;top:50%;left:%?180?%;font-size:%?30?%;color:#555;width:100%;margin-top:%?-46?%;line-height:1.6}\n\n/* 弹出层 */.pop-example__container[data-v-37e0fc92]{background:#fff;padding:%?30?% %?40?%;border-radius:%?10?%;min-width:%?460?%}.pop-example__container .pop-title[data-v-37e0fc92]{text-align:center}.pop-content[data-v-37e0fc92]{margin-top:%?30?%}\n\n/* 弹出层：核销码 */.pop-qrcode .pop-content uni-image[data-v-37e0fc92]{display:block;width:%?460?%;height:%?460?%}\n\n/* 弹出层：支付方式 */.pop-orderPay .pop-title[data-v-37e0fc92]{text-align:left}.pay-method .pay-item[data-v-37e0fc92]{padding:%?20?% 0;font-size:%?28?%\n    /* border-bottom: 1rpx solid rgb(248, 248, 248); */}.pay-method .pay-item .item-left_icon[data-v-37e0fc92]{margin-right:%?20?%;font-size:%?32?%}.pay-method .pay-item .item-left_icon.wechat[data-v-37e0fc92]{color:#00c800}.pay-method .pay-item .item-left_icon.balance[data-v-37e0fc92]{color:#ff9700}",""]),t.exports=e},"9e0e":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("pop-manager",{attrs:{show:t.show,type:t.type,"show-overlay":t.overlay},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaskClick.apply(void 0,arguments)}}},[t._t("default")],2)],1)},o=[]},"9e9d":function(t,e,a){"use strict";a.r(e);var i=a("ebac"),n=a("e577");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("e98a");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"3d3b01c8",null,!1,i["a"],r);e["default"]=d.exports},b095:function(t,e,a){"use strict";a.r(e);var i=a("e953"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},c1eb5:function(t,e){t.exports={BALANCE:{name:"余额支付",value:10},WECHAT:{name:"微信支付",value:20}}},d208:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".pop[data-v-3d3b01c8]{visibility:hidden}.pop--show[data-v-3d3b01c8]{visibility:visible}.pop__mask[data-v-3d3b01c8]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:14;background:rgba(0,0,0,.5);display:none}.pop__mask--hide[data-v-3d3b01c8]{background:0 0}.pop__container[data-v-3d3b01c8]{position:fixed;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:all .2s ease;transition:all .2s ease;z-index:15;opacity:0}.pop--show .pop__container[data-v-3d3b01c8]{opacity:1}.pop--show .pop__mask[data-v-3d3b01c8]{display:block}.pop--left .pop__container[data-v-3d3b01c8]{left:0;top:50%;-webkit-transform:translate3d(-100%,-50%,0);transform:translate3d(-100%,-50%,0)}.pop--show.pop--left .pop__container[data-v-3d3b01c8]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--right .pop__container[data-v-3d3b01c8]{right:0;top:50%;left:auto;-webkit-transform:translate3d(100%,-50%,0);transform:translate3d(100%,-50%,0)}.pop--show.pop--right .pop__container[data-v-3d3b01c8]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--bottom .pop__container[data-v-3d3b01c8]{top:auto;left:50%;bottom:0;-webkit-transform:translate3d(-50%,100%,0);transform:translate3d(-50%,100%,0)}.pop--show.pop--bottom .pop__container[data-v-3d3b01c8]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.pop--top .pop__container[data-v-3d3b01c8]{top:0;left:50%;-webkit-transform:translate3d(-50%,-100%,0);transform:translate3d(-50%,-100%,0)}.pop--show.pop--top .pop__container[data-v-3d3b01c8]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}",""]),t.exports=e},d864:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"}},methods:{handleMaskClick:function(){this.$emit("clickmask",{detail:{}})}}};e.default=i},e26e:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{},[a("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+t.navH+"px;"},[a("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[a("v-uni-view",{staticClass:"index_h_cont3"},[a("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpzuo.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"index_wenben"},[t._v("购买订单")])],1)],1),a("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),a("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;padding-bottom: 120rpx;"},[a("v-uni-view",{staticClass:"containers"},[a("v-uni-view",{staticClass:"headers f-28 col-3"},[a("v-uni-view",{class:"all"===t.dataType?"active":"",attrs:{"data-type":"all"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.bindheadersTap.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("全部")])],1),a("v-uni-view",{class:"payment"===t.dataType?"active":"",attrs:{"data-type":"payment"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindheadersTap.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("待付款")])],1),a("v-uni-view",{class:"delivery"===t.dataType?"active":"",attrs:{"data-type":"delivery"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindheadersTap.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("待发货")])],1),a("v-uni-view",{class:"received"===t.dataType?"active":"",attrs:{"data-type":"received"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindheadersTap.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("待收货")])],1),a("v-uni-view",{class:"comment"===t.dataType?"active":"",attrs:{"data-type":"comment"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindheadersTap.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("待评价")])],1)],1),a("v-uni-view",{staticClass:"goods-detail-box"},[a("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px; width: 750rpx;margin-top:88rpx;",attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDownLoad.apply(void 0,arguments)}}},[t.list.data.length>0?a("v-uni-view",{staticClass:"wrapper"},t._l(t.list.data,(function(e,i){return a("v-uni-view",{key:i,staticClass:"m-top20",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.navigateToDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"order-box b-f"},[a("v-uni-view",{staticClass:"order-headers dis-flex"},[a("v-uni-view",{staticClass:"flex-box t-l"},[a("v-uni-text",{staticClass:"title"},[t._v("商品列表")])],1),a("v-uni-view",{staticClass:"flex-box t-r"},[a("v-uni-text",{staticClass:"cont"},[t._v(t._s(e.state_text))])],1)],1)],1),a("v-uni-view",{staticClass:"order-box b-f"},[a("v-uni-view",{staticClass:"order-cont dis-flex"},[a("v-uni-view",{staticClass:"order-num"},[a("v-uni-text",[t._v("订单号："+t._s(e.order_no))])],1),a("v-uni-view",{staticClass:"order-time"},[a("v-uni-text",[t._v(t._s(e.create_time))])],1)],1)],1),a("v-uni-view",{staticClass:"order-box order-img_list"},[a("v-uni-view",{staticClass:"order-shop"},[a("v-uni-view",{staticClass:"order-list-box dis-flex"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"dis-flex"},t._l(e.goods,(function(t,e){return a("v-uni-view",{key:t.goods,staticClass:"order-shop-left"},[a("v-uni-image",{attrs:{src:t.image.file_path}})],1)})),1)],1),a("v-uni-view",{staticClass:"right dis-flex flex-x-center flex-y-center"},[a("v-uni-text",{staticClass:"goods-number"},[t._v("共"+t._s(e.goods.length)+"件")]),a("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1)],1),a("v-uni-view",{staticClass:"order-box b-f"},[a("v-uni-view",{staticClass:"order-btn dis-flex"},[a("v-uni-view",{staticClass:"order-left"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[t._v("合计：")]),a("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(e.pay_price))])],1)],1),a("v-uni-view",{staticClass:"order-right"},[20!=e.order_status.value?a("v-uni-view",{staticClass:"btn-group dis-flex"},[10==e.pay_status.value?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-default",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("取消")])],1):t._e(),21!=e.order_status.value?[20==e.pay_status.value&&10==e.delivery_status.value?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-default",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("申请取消")])],1):t._e(),20==e.pay_status.value&&e.delivery_type.value==t.DeliveryTypeEnum.EXTRACT.value&&10==e.delivery_status.value?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-main",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onExtractQRCode.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont icon-qr-extract"}),a("v-uni-text",{staticClass:"m-l-10"},[t._v("核销码")])],1)],1):t._e()]:[a("v-uni-view",{staticClass:"f-28 col-8"},[t._v("取消申请中")])],10==e.pay_status.value?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-main",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onPayOrder.apply(void 0,arguments)}}},[t._v("付款")])],1):t._e(),20==e.delivery_status.value&&10==e.receipt_status.value?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-main",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.receipt.apply(void 0,arguments)}}},[t._v("确认收货")])],1):t._e(),30==e.order_status.value&&0==e.is_comment?a("v-uni-view",[a("v-uni-view",{staticClass:"btn-default",attrs:{"data-id":e.order_id},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.comment.apply(void 0,arguments)}}},[t._v("评价")])],1):t._e()],2):t._e()],1)],1)],1)],1)})),1):t._e(),t.no_more?a("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e(),t.isLoading||t.list.data.length?t._e():a("v-uni-view",[a("v-uni-view",{staticClass:"yoshop-notcont"},[a("v-uni-text",{staticClass:"iconfont icon-wushuju"}),a("v-uni-text",{staticClass:"cont"},[t._v("亲，您还没有订单信息哦！")])],1)],1)],1)],1),a("zan-popup",{attrs:{show:t.showQRCodePopup},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onToggleQRCodePopup.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pop-qrcode pop-example__container"},[a("v-uni-view",{staticClass:"pop-title"},[a("v-uni-text",{staticClass:"f-30"},[t._v("核销二维码")])],1),a("v-uni-view",{staticClass:"pop-content"},[a("v-uni-image",{attrs:{src:t.QRCodeImage}})],1)],1)],1),a("zan-popup",{attrs:{show:t.showPayPopup},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onTogglePayPopup.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pop-orderPay pop-example__container"},[a("v-uni-view",{staticClass:"pop-title"},[a("v-uni-text",{staticClass:"f-30"},[t._v("请选择支付方式")])],1),a("v-uni-view",{staticClass:"pop-content"},[a("v-uni-view",{staticClass:"pay-method"},[a("v-uni-form",{attrs:{"data-value":t.PayTypeEnum.WECHAT.value,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectPayType.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[a("v-uni-view",{staticClass:"pay-item dis-flex flex-x-between"},[a("v-uni-view",{staticClass:"item-left dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"item-left_icon wechat"},[a("v-uni-text",{staticClass:"iconfont icon-weixinzhifu"})],1),a("v-uni-view",{staticClass:"item-left_text"},[a("v-uni-text",[t._v(t._s(t.PayTypeEnum.WECHAT.name))])],1)],1)],1)],1)],1),a("v-uni-form",{attrs:{"data-value":t.PayTypeEnum.BALANCE.value,"report-submit":!0},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectPayType.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[a("v-uni-view",{staticClass:"pay-item dis-flex flex-x-between"},[a("v-uni-view",{staticClass:"item-left dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"item-left_icon balance"},[a("v-uni-text",{staticClass:"iconfont icon-qiandai"})],1),a("v-uni-view",{staticClass:"item-left_text"},[a("v-uni-text",[t._v(t._s(t.PayTypeEnum.BALANCE.name))])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},o=[]},e518:function(t,e,a){"use strict";a.r(e);var i=a("e26e"),n=a("4554");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6529");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"37e0fc92",null,!1,i["a"],r);e["default"]=d.exports},e577:function(t,e,a){"use strict";a.r(e);var i=a("d864"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},e953:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9e9d")),o={data:function(){return{}},components:{popManager:n.default},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"}},methods:{handleMaskClick:function(){this.$emit("click-overlay",{detail:{}}),this.closeOnClickOverlay&&this.$emit("close",{detail:{}})}}};e.default=o},e98a:function(t,e,a){"use strict";var i=a("4477"),n=a.n(i);n.a},ebac:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:"pop pop--"+t.type+" "+(t.show?"pop--show":"")},[t.overlay?a("v-uni-view",{class:"pop__mask "+(t.showOverlay?"":"pop__mask--hide"),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaskClick.apply(void 0,arguments)}}}):t._e(),a("v-uni-view",{staticClass:"pop__container"},[t._t("default")],2)],1)},o=[]},ef87:function(t,e){t.exports={EXPRESS:{name:"快递配送",value:10},EXTRACT:{name:"上门自提",value:20}}},f19d:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3f60")),o=i(a("ef87")),r=i(a("c1eb5")),s=getApp(),d={components:{zanPopup:n.default},data:function(){return{navH:0,gaodu:s.globalData.height,gaodutops:s.globalData.top,dataType:"all",list:[],scrollHeight:null,DeliveryTypeEnum:o.default,PayTypeEnum:r.default,no_more:!1,isLoading:!0,page:1,showQRCodePopup:!1,QRCodeImage:"",payOrderId:"",showPayPopup:!1,length:0,value:"",name:""}},onLoad:function(t){var e=this;e.setListHeight(),e.setData({dataType:t.type||"all"})},onShow:function(){this.getOrderList()},onPullDownRefresh:function(){uni.stopPullDownRefresh()},methods:{jumpzuo:function(){uni.navigateBack()},getOrderList:function(t,e){var a=this;s.globalData._get("user.order/lists",{page:e||1,dataType:a.dataType},(function(e){var i=e.data.list,n=a.list;1==t?a.setData({"list.data":n.data.concat(i.data),isLoading:!1}):a.setData({list:i,isLoading:!1})}))},bindheadersTap:function(t){this.setData({dataType:t.currentTarget.dataset.type,list:{},isLoading:!0,page:1,no_more:!1}),this.getOrderList(t.currentTarget.dataset.type)},cancelOrder:function(t){var e=this,a=t.currentTarget.dataset.id;uni.showModal({title:"友情提示",content:"确认要取消该订单吗？",success:function(t){t.confirm&&s.globalData._post_form("user.order/cancel",{order_id:a},(function(t){e.getOrderList(e.dataType)}))}})},receipt:function(t){var e=this,a=t.currentTarget.dataset.id;uni.showModal({title:"提示",content:"确认收到商品？",success:function(t){t.confirm&&s.globalData._post_form("user.order/receipt",{order_id:a},(function(t){e.getOrderList(e.dataType)}))}})},onPayOrder:function(t){var e=this;e.setData({payOrderId:t.currentTarget.dataset.id}),e.onTogglePayPopup()},onSelectPayType:function(t){var e=this;s.globalData.saveFormId(t.detail.formId),e.onTogglePayPopup(),e.showPayPopup||e.payment(e.payOrderId,t.currentTarget.dataset.value)},onTogglePayPopup:function(){this.setData({showPayPopup:!this.showPayPopup})},payment:function(t,e){uni.showLoading({title:"正在处理..."}),s.globalData._post_form("user.order/pay",{order_id:t,payType:e},(function(e){if(-10===e.code)return s.globalData.showError(e.msg),!1;e.data.pay_type==r.default.WECHAT.value&&s.globalData.wxPayment({payment:e.data.payment,success:function(){uni.navigateTo({url:"../order/detail?order_id="+t})},fail:function(){s.globalData.showError(e.msg.error)}}),e.data.pay_type==r.default.BALANCE.value&&s.globalData.showSuccess(e.msg.success,(function(){uni.navigateTo({url:"../order/detail?order_id="+t})}))}),null,(function(){uni.hideLoading()}))},comment:function(t){var e=t.currentTarget.dataset.id;uni.navigateTo({url:"./comment/comment?order_id="+e}),console.log(e)},navigateToDetail:function(t){var e=t.currentTarget.dataset.id;uni.navigateTo({url:"../order/detail?order_id="+e})},bindDownLoad:function(){if(this.page>=this.list.last_page)return this.setData({no_more:!0}),!1;this.getOrderList(!0,++this.page)},setListHeight:function(){var t=uni.getSystemInfoSync(),e=t.windowWidth/750,a=Math.floor(88*e),i=t.windowHeight-a;this.setData({scrollHeight:i})},onExtractQRCode:function(t){var e=this,a=t.currentTarget.dataset.id;uni.showLoading({title:"加载中"}),s.globalData._get("user.order/extractQrcode",{order_id:a},(function(t){e.setData({QRCodeImage:t.data.qrcode}),e.onToggleQRCodePopup()}),null,(function(){uni.hideLoading()}))},onToggleQRCodePopup:function(){var t=this;t.setData({showQRCodePopup:!t.showQRCodePopup})}}};e.default=d},f87d:function(t,e,a){"use strict";var i=a("73e1"),n=a.n(i);n.a}}]);