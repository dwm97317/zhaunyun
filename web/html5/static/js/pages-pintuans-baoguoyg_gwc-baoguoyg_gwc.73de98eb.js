(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pintuans-baoguoyg_gwc-baoguoyg_gwc"],{"162d":function(t,e,a){"use strict";a.r(e);var i=a("dd4d"),o=a("d0f2");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("e30e");var c,s=a("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"fe2b891a",null,!1,i["a"],c);e["default"]=d.exports},5386:function(t,e,a){var i=a("8e5f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("65d3aed7",i,!0,{sourceMap:!1,shadowMode:!1})},5750:function(t,e,a){a("d3b7");var i=getApp(),o=i.globalData.url;function n(t,e){console.log(i.globalData.jiazai,"加载加载加载");var a=new Promise((function(a,n){uni.showLoading({title:i.globalData.jiazai+"..."}),uni.request({url:o+"".concat(t),data:e,method:"POST",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:i.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:i.globalData.zhonghan.mqudenglu,success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),a(t)},fail:function(t){uni.showToast({title:i.globalData.zhonghan.mxiaochai+"2",icon:"none",duration:2e3}),n(t)}})}));return a}function c(t,e){var a=new Promise((function(a,n){uni.showLoading({title:i.globalData.jiazai+"..."}),uni.request({url:o+"".concat(t),data:e,method:"GET",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(console.log(333),uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:i.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:i.globalData.zhonghan.mqudenglu,success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),a(t)},fail:function(t){uni.showToast({title:i.globalData.zhonghan.mxiaochai,icon:"none",duration:2e3}),n(t)}})}));return a}t.exports={post:n,get:c}},"8e5f":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".image[data-v-fe2b891a]{width:100%;height:100%}.cart-edit-wrap[data-v-fe2b891a]{padding:%?15?%}.cart-tab-item-btn[data-v-fe2b891a]{width:%?160?%;display:block;height:%?100?%;line-height:%?100?%;font-size:%?30?%;background:linear-gradient(90deg,#fa1e8c 0,#fc1e56);color:#fff;float:right;text-align:center}.cart-tab-item[data-v-fe2b891a]{width:75%}.cart-tab-item_1[data-v-fe2b891a]{width:25%}.cart-tab-wrp[data-v-fe2b891a]{height:%?100?%;position:fixed;bottom:%?0?%;background:#fff;border-top:%?1?% solid #ddd;display:flex;flex-direction:row;width:100%;z-index:10;color:#000}.cart-tab-item[data-v-fe2b891a]{overflow:hidden\n    /* line-height: 100rpx; */}.cart-tab-item .cart-item-total-price[data-v-fe2b891a]{\n    /* float: left; */}.cart-item-total[data-v-fe2b891a]{padding-left:%?30?%}.cart-item-total-price[data-v-fe2b891a]{\n    /* color: #ff495e; */\n    /* text-align: center; */margin-left:%?15?%}.cart-item-total-price em[data-v-fe2b891a]{display:block}.cart-item-icon-wrp[data-v-fe2b891a]{width:%?110?%;height:%?90?%;position:absolute;top:%?-4?%}.cart-item-icon[data-v-fe2b891a]{width:%?90?%;height:%?90?%}.dish-item[data-v-fe2b891a]{width:100%;padding:%?26?% %?20?%;border-bottom:%?1?% solid #eee;position:relative;background:#fff;box-sizing:border-box}.dish-item-radio[data-v-fe2b891a]{padding:%?20?% 0}.dish-item-wrp[data-v-fe2b891a]{flex-direction:row}.dish-item-pic[data-v-fe2b891a]{width:100%;margin-left:%?12?%}.dish-item-pic uni-image[data-v-fe2b891a]{width:%?180?%;height:%?180?%;margin:0 auto;background:#fff;border:%?1?% solid #eee}.dish-item-info[data-v-fe2b891a]{padding-left:%?16?%\n    /* margin-right: 15px; */ /* width: 68%; */}.dish-item-info .goods-name[data-v-fe2b891a]{height:%?80?%}.dish-item-sales[data-v-fe2b891a]{color:#ccc;font-size:%?20?%;line-height:%?50?%}.dish-item-money[data-v-fe2b891a]{color:#ff495e;font-size:%?32?%\n    /* padding: 0 0 10rpx 0; */}.wx-goods_price[data-v-fe2b891a]{overflow:hidden}.flow-dete[data-v-fe2b891a]{position:absolute;bottom:%?25?%;right:%?30?%}.flow-dete .icon-lajixiang[data-v-fe2b891a]{color:#777;font-size:%?34?%}.flow-btn-min[data-v-fe2b891a]{background:#fff;border:%?1?% solid #ccc;height:30px;line-height:30px;font-size:%?28?%;width:%?200?%;margin:0 auto;border-radius:5px;text-align:center;color:#777;margin-top:%?25?%}.select-number[data-v-fe2b891a]{width:%?202?%;height:%?52?%;flex-direction:row;border:%?1?% solid #e7e7e7;border-radius:%?5?%}.select-number .default[data-v-fe2b891a]{float:left;width:%?60?%;height:%?52?%;line-height:%?48?%;padding:0;background:#fff;color:#444;font-size:%?40?%;border-radius:unset}.select-number .disabled[data-v-fe2b891a]{background:#f7f7f7;color:#ddd}.select-number uni-button[data-v-fe2b891a]:after{content:none;border:none}.select-number uni-input[data-v-fe2b891a]{float:left;width:%?80?%;height:%?52?%;line-height:%?52?%;border-right:%?1?% solid #eee;border-left:%?1?% solid #eee;text-align:center;font-size:%?28?%;color:#444}",""]),t.exports=e},d0f2:function(t,e,a){"use strict";a.r(e);var i=a("fe66"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},dd4d:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{},[a("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+t.navH+"px;"},[a("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[a("v-uni-view",{staticClass:"index_h_cont3"},[a("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpzuo.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"index_wenben"},[t._v(t._s(t.$t("gouwuche.title")))])],1)],1),a("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),a("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;"},[a("v-uni-view",{staticClass:"containers p-bottom"},[a("v-uni-view",{staticClass:"flow-list"},[t.goods_list.length?a("v-uni-view",[a("v-uni-view",{staticClass:"cart-edit-wrap dis-flex flex-x-end"},["complete"===t.action?a("v-uni-text",{staticClass:"f-30",attrs:{"data-action":"edit"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.switchAction.apply(void 0,arguments)}}},[t._v("编辑")]):t._e(),"edit"===t.action?a("v-uni-text",{staticClass:"f-30",attrs:{"data-action":"complete"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.switchAction.apply(void 0,arguments)}}},[t._v("完成")]):t._e()],1),t._l(t.goods_list,(function(e,i){return a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"dish-item dis-flex flex-y-center",style:e.txtStyle,attrs:{"data-index":i}},[a("v-uni-view",{staticClass:"dish-item-radio",attrs:{"data-index":i},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onChecked.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{checked:e.checked,color:"#ff495e"}})],1)],1),a("v-uni-view",{staticClass:"dish-item-wrp dis-flex flex-box"},[a("v-uni-view",{staticClass:"dish-item-info flex-box"},[a("v-uni-view",{staticClass:"goods-name"},[a("v-uni-text",{staticClass:"twolist-hidden f-28 col-3"},[t._v(t._s(e.url))])],1),a("v-uni-view",{staticClass:"goods-attr dis-flex"},[a("v-uni-text",{staticStyle:{"font-size":"32rpx",color:"red"}},[t._v(t._s(t.$t("gouwuche.jiage"))+"：￥"+t._s(e.price))])],1),a("v-uni-view",{staticClass:"goods-attr dis-flex"},[a("v-uni-text",{staticStyle:{"font-size":"24rpx",color:"#333","margin-top":"10rpx"}},[t._v(t._s(t.$t("gouwuche.shuliang"))+"："+t._s(e.num))])],1),a("v-uni-view",{staticClass:"goods-attr dis-flex"},[a("v-uni-text",{staticStyle:{"font-size":"24rpx",color:"#777","margin-top":"20rpx"}},[t._v(t._s(t.$t("gouwuche.yunfei"))+"：￥"+t._s(e.free))])],1)],1)],1)],1)],1)})),a("v-uni-view",{staticClass:"cart-tab-wrp"},[a("v-uni-view",{staticClass:"cart-item-total cart-tab-item dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"checked-all"},[a("v-uni-label",{staticClass:"radio dis-flex flex-y-center",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onCheckedAll.apply(void 0,arguments)}}},[a("v-uni-radio",{staticClass:"margin-right: 10rpx;",attrs:{checked:t.checkedAll,color:"#ff495e"}}),a("v-uni-text",{staticClass:"f-28"},[t._v(t._s(t.$t("gouwuche.quanxuan")))])],1)],1),"complete"===t.action?a("v-uni-view",{staticClass:"cart-item-total-price dis-flex"},[a("v-uni-text",{staticClass:"f-28 col-m"},[t._v(t._s(t.$t("gouwuche.heji"))+"：￥"+t._s(t.cartTotalPrice))])],1):t._e()],1),a("v-uni-view",{staticClass:"cart-tab-item_1"},["complete"===t.action?a("v-uni-view",{staticClass:"cart-tab-item-btn",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.$t("gouwuche.qujiesuan")))]):t._e(),"edit"===t.action?a("v-uni-view",{staticClass:"cart-tab-item-btn",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onDelete.apply(void 0,arguments)}}},[t._v(t._s(t.$t("gouwuche.shanchu")))]):t._e()],1)],1)],2):a("v-uni-view",[a("v-uni-view",{staticClass:"yoshop-notcont"},[a("v-uni-text",{staticClass:"iconfont icon-wushuju"}),a("v-uni-text",{staticClass:"cont"},[t._v(t._s(t.$t("gouwuche.zanwu")))]),a("v-uni-view",{staticClass:"flow-btn-min",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.goShopping.apply(void 0,arguments)}}},[t._v(t._s(t.$t("gouwuche.qudaigou")))])],1)],1)],1)],1)],1)],1)},n=[]},e30e:function(t,e,a){"use strict";var i=a("5386"),o=a.n(i);o.a},fe66:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("4160"),a("26e9"),a("a9e3"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("5530")),n=i(a("a18d")),c=getApp(),s=(a("5750"),{data:function(){return{navH:0,gaodu:c.globalData.height,gaodutops:c.globalData.top,isLogin:!1,goods_list:[],action:"complete",checkedData:[],checkedAll:!1,cartTotalPrice:"0.00",order_total_price:"",gwclist:[]}},onLoad:function(t){},onShow:function(){var t=this;t.setData({isLogin:c.globalData.checkIsLogin(),gwclist:uni.getStorageSync("gwclist")}),t.getCartList();var e=getCurrentPages(),a=e[e.length-1];a.baoguogwc&&(t.onDeleteEvent(t.baoguogwcid),t.getCartList(),setTimeout((function(){uni.redirectTo({url:"/pages/mys/my_daigoulist/my_daigoulist?id=0"})}),1e3))},methods:{jumpzuo:function(){uni.navigateBack()},getCartList:function(){var t=this,e=uni.getStorageSync("gwclist");t._initGoodsChecked(e.reverse())},_initGoodsChecked:function(t){var e=this,a=e.getCheckedData();t.forEach((function(t){t.checked=n.default.inArray("".concat(t.goods_id,"_").concat(t.goods_sku_id),a)})),e.setData({goods_list:t,order_total_price:t.order_total_price,action:"complete",checkedAll:a.length==t.length}),e.updateTotalPrice()},onChecked:function(t){var e=this,a=t.currentTarget.dataset.index,i=e.goods_list[a],o=!i.checked;e.goods_list[a].checked=o,e.onUpdateChecked(),e.updateTotalPrice(),e.setData({checkedAll:e.getCheckedData().length==e.goods_list.length})},getCheckedData:function(){var t=uni.getStorageSync("checkedData");return t||[]},onCheckedAll:function(t){var e=this,a=e.goods_list;a.forEach((function(t){t.checked=!e.checkedAll})),e.setData({goods_list:a,checkedAll:!e.checkedAll}),e.updateTotalPrice(),e.onUpdateChecked()},onUpdateChecked:function(){var t=this,e=[];t.goods_list.forEach((function(t){1==t.checked&&e.push("".concat(t.goods_id,"_").concat(t.goods_sku_id))})),uni.setStorageSync("checkedData",e)},switchAction:function(t){var e=this;e.setData({action:t.currentTarget.dataset.action})},onDelete:function(){var t=this,e=t.getCheckedIds();if(console.log(t.goods_list,"cartIds?"),!e.length)return c.globalData.showError(t.$t("gouwuche.weixuanze")),!1;uni.showModal({title:t.$t("gouwuche.tishi"),content:t.$t("gouwuche.yichu"),success:function(a){a.confirm&&(t.onDeleteEvent(e),t.getCartList())}})},onDeleteEvent:function(t){var e=this;console.log(e.goods_list,"_this.goods_list1?");var a=(0,o.default)({},e.goods_list),i=[],n=[];for(var c in console.log(a,"22222"),a)e.inArray(c,t)||e.inArray(c,n)||(console.log(222),i.push(a[c]),n.push(c));return e.goods_list=i,uni.setStorageSync("gwclist",e.goods_list),e.onUpdateChecked(),!0},inArray:function(t,e){for(var a in e)if(e[a]==t)return!0;return!1},getCheckedIds:function(){var t=this,e=[];return t.goods_list.forEach((function(t,a){!0===t.checked&&(console.log(a,"111111111"),e.push(a))})),e},updateTotalPrice:function(){var t=this,e=0;t.goods_list.forEach((function(a){!0===a.checked&&(e=t.mathadd(e,a.price*a.num+Number(a.free)))})),t.setData({cartTotalPrice:Number(e).toFixed(2)})},onAddCount:function(t){var e=this,a=t.currentTarget.dataset.index,i=t.currentTarget.dataset.skuId,o=e.goods_list[a];uni.showLoading({title:e.$t("gouwuche.jiazai"),mask:!0}),c.globalData._post_form("cart/add",{goods_id:o.goods_id,goods_num:1,goods_sku_id:i},(function(){e.getCartList()}),null,(function(){uni.hideLoading()}))},onSubCount:function(t){var e=this,a=t.currentTarget.dataset.index,i=t.currentTarget.dataset.skuId,o=e.goods_list[a];o.total_num>1&&(uni.showLoading({title:e.$t("m.jiazai"),mask:!0}),c.globalData._post_form("cart/sub",{goods_id:o.goods_id,goods_sku_id:i},(function(){e.getCartList()}),null,(function(){uni.hideLoading()})))},submit:function(){var t=this,e=t.getCheckedIds(),a=[];if(!e.length)return c.globalData.showError(t.$t("gouwuche.weixuanze")),!1;t.goods_list.forEach((function(t){1==t.checked&&a.push(t)})),uni.setStorageSync("checkout",a),t.setData({baoguogwcid:e}),uni.navigateTo({url:"../checkout/checkout"})},mathadd:function(t,e){return(Number(t)+Number(e)).toFixed(2)},mathsub:function(t,e){return(Number(t)-Number(e)).toFixed(2)},goShopping:function(){uni.navigateTo({url:"../baoguoyg/baoguoyg"})},importFun:function(){console.log("占位：函数 import 未声明")}}});e.default=s}}]);