(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mys-login-login"],{"0ff3":function(e,n,t){var i=t("c86c");n=i(!1),n.push([e.i,".bangdindixlog[data-v-4bd2d7f8]{width:100%;position:absolute;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.3);z-index:4}.codebangdindixlog[data-v-4bd2d7f8]{margin:15px 0;display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.btns uni-view[data-v-4bd2d7f8]{display:inline-block;font-weight:200;padding:4px 7px;color:#fff;border-radius:3px;background-color:#8f939c;border-width:1px;border-style:solid;border-color:#8f939c;margin-right:10px}.btns uni-view.surebangdin[data-v-4bd2d7f8]{background-color:#f6c416;border-color:#f6c416;color:#000}.btns[data-v-4bd2d7f8]{text-align:right}.codeslide[data-v-4bd2d7f8]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;overflow:hidden;margin-top:10px}.codeslide uni-view[data-v-4bd2d7f8]{margin-right:10px}.phonecode[data-v-4bd2d7f8]{width:72%}.box[data-v-4bd2d7f8]{width:84%;position:absolute;bottom:30%;left:3%;z-index:5;background-color:#fff;padding:10% 5%;border-radius:6px}.phonebangdin[data-v-4bd2d7f8]{font-size:16px}.baoguo_guize[data-v-4bd2d7f8]{background:rgba(0,0,0,.5);width:100%;height:100%;position:fixed;top:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center}.baoguo_guize_banner[data-v-4bd2d7f8]{background:#fff;padding:%?20?% %?20?% 0 %?20?%;margin:%?30?%;border-radius:%?8?%;overflow:scroll;height:60vh}.baoguo_guize_cont[data-v-4bd2d7f8]{font-size:%?32?%;line-height:%?45?%;margin-top:%?20?%;color:#333}.baoguo_guize_cont[data-v-4bd2d7f8]:first-child{margin-top:0}.baoguo_guize_title[data-v-4bd2d7f8]{font-size:%?36?%;color:#333;text-align:center;margin-bottom:%?30?%}.baoguo_guize_btns[data-v-4bd2d7f8]{border-top:1px solid #e8e8e8;padding:%?30?%;margin-top:%?30?%}.baoguo_guize_btns_txt[data-v-4bd2d7f8]{font-size:%?35?%;text-align:center}.baoguo_guize_list[data-v-4bd2d7f8]{height:%?700?%;overflow-y:auto}uni-rich-text[data-v-4bd2d7f8]{font-size:%?28?%;color:#333;line-height:%?50?%}uni-page-body[data-v-4bd2d7f8]{background-color:#fff}body.?%PAGE?%[data-v-4bd2d7f8]{background-color:#fff}.agree[data-v-4bd2d7f8]{padding:20px 0;font-size:14px;color:#444}.agree uni-text[data-v-4bd2d7f8]{color:#f6c416}.logotwo[data-v-4bd2d7f8]{display:flex;align-items:center;justify-content:space-evenly;margin-top:40px}.logotwo uni-view[data-v-4bd2d7f8]{text-align:center;font-size:12px;color:#666}.logotwo uni-image[data-v-4bd2d7f8]{width:40px;display:block;height:40px;margin:0 auto 6px}.smallgray[data-v-4bd2d7f8]{font-size:12px;color:#666;padding:10px 0 20px;text-align:center}.logintitle[data-v-4bd2d7f8]{color:rgba(0,0,0,.8);margin:0;font-size:18px;padding:20px 0;text-align:center;font-weight:700}.logo[data-v-4bd2d7f8]{width:48px;height:48px;display:block;margin:20px auto 10px}.img_small[data-v-4bd2d7f8]{text-align:center;font-size:14px;color:#666}.input[data-v-4bd2d7f8]{border:.104167rem solid hsla(0,0%,100%,0);height:35px;padding:3px 20px!important;overflow:hidden;background:#f0f0f0;transition:border .3s cubic-bezier(.4,0,.2,1) 0ms;border-radius:.920139rem;margin-top:30px}.code[data-v-4bd2d7f8]{width:60%}.inputword[data-v-4bd2d7f8]{width:89%;margin:20px auto}.code[data-v-4bd2d7f8]{width:60%!important}.flex[data-v-4bd2d7f8]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.login[data-v-4bd2d7f8]{width:100%;font-size:17px;background:linear-gradient(180deg,#3375ff,#1a65ff);border-radius:27px;padding:11px 0;text-align:center;font-weight:400;color:#fff;margin-top:20px}",""]),e.exports=n},"1bf8":function(e,n,t){"use strict";t.r(n);var i=t("1e26"),o=t("5ee7");for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);t("fc58");var d=t("828b"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"4bd2d7f8",null,!1,i["a"],void 0);n["default"]=s.exports},"1e26":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){}));var i=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("v-uni-view",{staticStyle:{"margin-top":"30px"}},[i("v-uni-view",{staticClass:"logintitle"},[e._v("登录")]),i("v-uni-view",{staticClass:"img_small"}),i("v-uni-view",{staticClass:"inputword"},[i("v-uni-view",{staticClass:"flex"},[1==e.is_phone?i("v-uni-view",{staticStyle:{width:"65px","border-right":"1px solid #d9d9d9"}},[i("v-uni-picker",{attrs:{mode:"selector",value:e.defaultIndex,range:e.columns,"range-key":"cname"},on:{change:function(n){arguments[0]=n=e.$handleEvent(n),e.pickerConfirm.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("+ "+e._s(e.searchForm.searchMatterEnumCode))])],1)],1):e._e(),i("v-uni-view",{staticClass:"phonecode"},[i("v-uni-input",{attrs:{border:"none",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(n){e.phone=n},expression:"phone"}})],1)],1),i("v-uni-view",{staticClass:"flex"},[i("v-uni-input",{staticClass:"code",attrs:{border:"none",placeholder:"请输入密码"},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),i("v-uni-view",{staticClass:"login",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.passlogin.apply(void 0,arguments)}}},[e._v("登录")]),i("v-uni-view",{staticClass:"agree"},[i("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#F6C416",checked:e.checkagree},on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.checkagreeFun.apply(void 0,arguments)}}}),e._v("我已同意"),i("v-uni-text",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.guizeshows.apply(void 0,arguments)}}},[e._v("『用户隐私协议』")])],1),i("v-uni-view",{staticClass:"logotwo"},[i("v-uni-view",{staticClass:"smallgray",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.findpassword.apply(void 0,arguments)}}},[e._v("忘记密码")]),i("v-uni-view",{staticClass:"smallgray",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.zhuce.apply(void 0,arguments)}}},[e._v("快速注册")])],1),i("v-uni-view",{staticClass:"logotwo"},["H5-WEIXIN"==e.platfrom?i("v-uni-view",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.H5weixinChange.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t("c478"),mode:"aspectFit"}}),i("v-uni-text",[e._v("微信登录")])],1):e._e()],1)],1),e.guizeshow?i("v-uni-view",{staticClass:"baoguo_guize"},[i("v-uni-view",{staticClass:"baoguo_guize_banner"},[i("v-uni-view",{staticClass:"baoguo_guize_title"},[e._v("《"+e._s(e.guizes.article_title)+"》")]),i("v-uni-view",{},[i("v-uni-rich-text",{attrs:{nodes:e.article_content}})],1),i("v-uni-view",{staticClass:"baoguo_guize_btns",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.isguizeshows.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"baoguo_guize_btns_txt"},[e._v("我知道了")])],1)],1)],1):e._e(),e.checkbindphone?i("v-uni-view",{staticClass:"bangdindixlog"},[i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"phonebangdin"},[e._v("绑定手机号")]),i("v-uni-view",{staticClass:"codebangdindixlog"},[i("v-uni-view",{staticStyle:{width:"65px","border-right":"1px solid #d9d9d9"}},[i("v-uni-picker",{attrs:{mode:"selector",value:e.defaultIndex,range:e.columns,"range-key":"cname"},on:{change:function(n){arguments[0]=n=e.$handleEvent(n),e.pickerConfirm.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("+ "+e._s(e.searchForm.searchMatterEnumCode))])],1)],1),i("v-uni-view",{staticClass:"phonecode"},[i("v-uni-input",{attrs:{border:"none",placeholder:"请输入手机号"},model:{value:e.bangdinphone,callback:function(n){e.bangdinphone=n},expression:"bangdinphone"}})],1)],1),i("v-uni-view",{staticClass:"codebangdindixlog codeslide"},[i("v-uni-input",{staticClass:"code",attrs:{placeholder:"请输入验证码"},model:{value:e.code,callback:function(n){e.code=n},expression:"code"}}),e.smsState?i("v-uni-text",{staticClass:"un-activate"},[e._v("重新发送("+e._s(e.times)+")秒")]):i("v-uni-view",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.getCode(e.bangdinphone)}}},[e._v("获取验证码")])],1),i("v-uni-view",{staticClass:"btns"},[i("v-uni-view",{staticClass:"cancel",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.checkbindphone=!1,e.bangdinphone=""}}},[e._v("取消")]),i("v-uni-view",{staticClass:"surebangdin",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.bindphone(e.bangdinphone,e.code)}}},[e._v("绑定")])],1)],1)],1):e._e()],1)},o=[]},5280:function(e,n,t){var i=t("0ff3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=t("967d").default;o("6dfb981c",i,!0,{sourceMap:!1,shadowMode:!1})},"5ee7":function(e,n,t){"use strict";t.r(n);var i=t("e00b"),o=t.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(a);n["default"]=o.a},c478:function(e,n,t){e.exports=t.p+"static/pages/images/wxlogin.png"},e00b:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("23f4"),t("7d2f"),t("5c47"),t("9c4e"),t("ab80"),t("2c10"),t("af8f"),t("a1c1");var i=getApp(),o=t("0e07"),a=t("e51c"),d={data:function(){return{checkbindphone:!1,platfrom:a.default,bangdincode:"",bangdinphone:"",searchForm:{searchMatterEnumCode:86,searchMatterEnumName:"HongKong"},code:"",imgUrl:i.globalData.imgUrl,guizeshow:!1,phone:null,times:60,smsState:!1,password:null,checkagree:!1,article_content:"",defaultIndex:[0],guizes:{article_title:""},is_phone:0,columns:[],pickerShow:!1}},mounted:function(){this.guize(),this.getCountryQianZhui(),console.log(a,99),uni.setStorageSync("token","")},methods:{pickerConfirm:function(e){console.log("点击确定",e),this.defaultIndex=e.detail.value,this.searchForm.searchMatterEnumCode=this.columns[e.detail.value].areanum,this.searchForm.searchMatterEnumName=this.columns[e.detail.value].cname},getCode:function(){var e=this;if(!this.bangdinphone)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var n={form:{mobile:this.bangdinphone,tel_code:this.searchForm.searchMatterEnumCode,type:40}};o.post("index.php?s=/api/captcha/sendSmsCaptcha&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(n){1==n.data.code&&e.timer()}))},timer:function(){var e=this;this.smsState=!0;var n=setInterval((function(){e.times=e.times-1,e.times<=0&&(e.smsState=!1,e.times=60,clearInterval(n))}),1e3)},getCountryQianZhui:function(){var e=this;o.get("index.php?s=/api/page/getCountryQianZhui&wxapp_id="+uni.getStorageSync("web_id"),{}).then((function(n){1==n.data.code&&(e.columns=n.data.data.list,e.is_phone=n.data.data.is_phone)}))},gerenxinxi:function(){var e=this,n={token:uni.getStorageSync("token")};o.get("index.php?s=/api/user/detail&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(n){if(1==n.data.code){if((""==n.data.data.userInfo.mobile||0==n.data.data.userInfo.mobile)&&1==uni.getStorageSync("setting")["is_getphone"])return e.checkbindphone=!0,!1;uni.showToast({title:"登录成功",icon:"success",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)}}))},passlogin:function(){if(console.log(this.checkagree,999),0!=this.checkagree){var e={mobile:this.phone,password:this.password,tel_code:this.searchForm.searchMatterEnumCode};o.post("index.php?s=api/passport/loginMpWxMobile&wxapp_id="+uni.getStorageSync("web_id"),e).then((function(e){if(1!=e.data.code)return uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),!1;console.log(e.data.data.token,786),uni.setStorageSync("token",e.data.data.token),uni.showToast({title:"登录成功",icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/my/my?islogin=true"})}),1e3)}))}else uni.showToast({title:"请选勾选隐私协议",icon:"none"})},H5weixinChange:function(){if(0!=this.checkagree){var e=this,n=this.getUrlParam("code"),t=window.location.href;console.log(n,8676);encodeURIComponent(t);if(null==n||""===n)this.getUserProfile();else{var i={code:n};o.post("index.php?s=/api/user/loginwx&wxapp_id="+uni.getStorageSync("web_id"),i).then((function(n){console.log(n,678),e.token=n.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"})}))}}else uni.showToast({title:"请选勾选隐私协议",icon:"none"})},getUserProfile:function(){this.islogin||("H5-WEIXIN"==a.default?o.post("index.php?s=/api/user/getCode&wxapp_id="+uni.getStorageSync("web_id")).then((function(e){console.log(e,78),window.location=e.data})):uni.navigateTo({url:"/pages/mys/login/login"}))},getUrlParam:function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null},loginApp:function(){0!=this.checkagree?uni.login({provider:"weixin",onlyAuthorize:!0,success:function(e){console.log(e);var n={code:e.code};console.log(n),o.post("index.php?s=/api/user/loginwxopen&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(e){console.log(e,9999),1==e.data.code&&(uni.removeStorageSync("token"),uni.setStorageSync("token",e.data.data.token),uni.navigateTo({url:"/pages/my/my"}))}))}}):uni.showToast({title:"请选勾选隐私协议",icon:"none"})},loginChange:function(){var e=this;0!=e.checkagree?uni.getUserProfile({desc:"用于完善会员资料",success:function(n){uni.login({success:function(t){if(t.code){var i=t.code;uni.setStorageSync("userInfo",n.userInfo);var a=uni.getStorageSync("userInfo"),d={code:i,user_info:a,from:"common",encrypted_data:n.encryptedData,iv:n.iv,signature:n.signature,referee_id:uni.getStorageSync("referee_id")};o.post("index.php?s=/api/user/login&wxapp_id="+uni.getStorageSync("web_id"),d).then((function(n){console.log(n,"22222"),1==n.data.code&&(e.token=n.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"}))}))}else uni.showToast({title:"网络似乎开小差了！",icon:"none",duration:2e3})}})},fail:function(e){uni.showToast({title:"您没有登录，将无法使用部分功能！",icon:"none",duration:2e3})}}):uni.showToast({title:"请选勾选隐私协议",icon:"none"})},bindphone:function(e){console.log(this.code,3567);if(!e)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var n={token:uni.getStorageSync("token"),mobile:this.bangdinphone,smsCode:this.code};o.get("index.php?s=/api/user/changePhone&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(e){1==e.data.code?(uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)):uni.showToast({title:e.data.msg,icon:"none",duration:2e3})}))},zhuce:function(){uni.navigateTo({url:"zhuce/zhuce"})},findpassword:function(){uni.navigateTo({url:"zhaohuimima/findpassword"})},jump:function(e){console.log(e),uni.navigateTo({url:e})},isguizeshows:function(){this.guizeshow=!1},checkagreeFun:function(){this.checkagree=!this.checkagree,console.log(this.checkagree,988)},guizeshows:function(){this.guizeshow=!0},guize:function(){var e=this,n={token:uni.getStorageSync("token")};o.post("index.php?s=/api/page/report_note&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(n){if(1==n.data.code){var t=n.data.data.detail.article_content;t=t.replace(/<img/gi,'<img style="max-width:100%;height:auto;display:block" '),e.guizes=n.data.data.detail,e.article_content=t}}))}}};n.default=d},fc58:function(e,n,t){"use strict";var i=t("5280"),o=t.n(i);o.a}}]);