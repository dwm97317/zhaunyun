(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cangkuyuans-cangkuyuan_saomaruku-cangkuyuan_saomaruku"],{"0d5e":function(a,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=getApp(),e=n("5750"),u={data:function(){return{navH:0,gaodu:i.globalData.height,gaodutops:i.globalData.top,leixing:0,type:0,rukudanhao:"",scanCodeMsg:"",arrlist:{storage:{shop_name:""},weight:"",length:"",width:"",height:""},suozaihuojias:"",scanCodeMsghuojia:"",huojialist:"",zhongliang:"",chang:"",kuan:"",gao:"",fenjianhuojia:{},yonghuid:"",is_pre:!1,length:"",width:"",kuaidiid:"",danhao:""}},onLoad:function(a){var t=this;t.setData({navH:i.globalData.navHeight,leixing:a.id,type:a.type}),t.rukudanhaoFun()},onShow:function(){},onReady:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{yonghuidFun:function(a){this.setData({yonghuid:a.detail.value})},saomarukugo2:function(){var a=this,t={token:uni.getStorageSync("token"),id:a.arrlist.id,shelf_id:a.fenjianhuojia.shelf_id,length:a.chang,width:a.kuan,height:a.gao,weight:a.zhongliang};t.id?t.shelf_id?""!=t.length&&""!=t.width&&""!=t.height||""!=t.weight?e.post("index.php?s=/api/userOpration/checkUpShelf&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(a){1==a.data.code&&(uni.showToast({title:a.data.data}),setTimeout((function(){uni.navigateBack({delta:0})}),1e3),console.log(a,"re??"))})):uni.showToast({title:"重量与包裹体积必填一项",icon:"none"}):uni.showToast({title:"请先扫描货架",icon:"none"}):uni.showToast({title:"请先扫描包裹",icon:"none"})},huojiabaoguo:function(a){var t=this,n={token:uni.getStorageSync("token"),code:a};e.post("index.php?s=/api/Useropration/checkPackInStorage&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(a){1==a.data.code?(t.setData({zhongliang:a.data.data.weight,length:a.data.data.length,width:a.data.data.width,gao:a.data.data.height,yonghuid:a.data.data.member_id,arrlist:a.data.data}),console.log(a,"re??")):(t.setData({arrlist:{}}),uni.showToast({title:a.data.msg,icon:"none"}))}))},huojialistFun:function(a){console.log(a,"e????jianhuo");var t=this,n={token:uni.getStorageSync("token"),code:a};e.post("index.php?s=/api/Useropration/getShelf&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(a){1==a.data.code?(t.setData({huojialist:a.data.data.shelf_unit_code,scanCodeMsghuojia:a.data.data.shelf_unit_code,fenjianhuojia:a.data.data}),console.log(a.data.data,"re??")):uni.showToast({title:a.data.msg,icon:"none"})}))},zhongliangFun:function(a){this.setData({zhongliang:a.detail.value})},changFun:function(a){this.setData({chang:a.detail.value})},kuanFun:function(a){this.setData({kuan:a.detail.value})},gaoFun:function(a){this.setData({gao:a.detail.value})},suozaihuojia:function(a){console.log(a,"e????"),this.setData({scanCodeMsghuojia:a.detail.value}),""!=a.detail.value&&this.huojialistFun(a.detail.value)},jumpzuo:function(){uni.navigateBack()},saomarukugo:function(){var a=this;if(a.is_pre)t={token:uni.getStorageSync("token"),id:a.arrlist.id,user_id:a.yonghuid,is_pre:a.is_pre,image:""};else var t={token:uni.getStorageSync("token"),express_num:a.danhao,user_id:a.yonghuid,is_pre:a.is_pre,image:""};e.post("index.php?s=/api/userOpration/instorage&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(a){1==a.data.code?(uni.showToast({title:a.data.data}),setTimeout((function(){uni.navigateBack({delta:0})}),1e3),console.log(a,"re??")):uni.showToast({title:a.data.msg,icon:"none"})}))},rukudanhaoFun:function(){var a=this,t={token:uni.getStorageSync("token")};e.post("index.php?s=/api/Useropration/lastEnterPack&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){1==t.data.code&&(a.setData({rukudanhao:t.data.data.express_num}),console.log(t,"re??"))}))},rukusaomas:function(a){var t=this,n={token:uni.getStorageSync("token"),code:a};e.post("index.php?s=/api/userOpration/checkPack&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(a){1==a.data.code?(t.setData({is_pre:!0,arrlist:a.data.data,yonghuid:a.data.data.member_id}),console.log(a,"re??")):(t.setData({is_pre:!1,kuaidiid:a.data.data.express_num,arrlist:{}}),uni.showToast({title:a.data.msg,icon:"none"}))}))},getdanhao:function(a){this.setData({danhao:a.detail.value}),""!=a.detail.value&&(1==a.currentTarget.dataset.type&&this.rukusaomas(a.detail.value),2==a.currentTarget.dataset.type&&this.huojiabaoguo(a.detail.value),a.currentTarget.dataset.type)},getScancode:function(a){var t=this;uni.scanCode({scanType:["qrCode","barCode","datamatrix","pdf417"],success:function(n){console.log(n),t.setData({scanCodeMsg:n.result}),2==a.currentTarget.dataset.type&&t.huojiabaoguo(n.result),1==a.currentTarget.dataset.type&&t.rukusaomas(n.result)}})},getScancodehuojia:function(a){var t=this;uni.scanCode({scanType:["qrCode","barCode","datamatrix","pdf417"],success:function(a){console.log(a),t.huojialistFun(a.result)}})}}};t.default=u},"23ea":function(a,t,n){"use strict";var i=n("8604"),e=n.n(i);e.a},"45c7":function(a,t,n){var i=n("24fb");t=i(!1),t.push([a.i,".cangkuyuan_saomaruku_item1[data-v-529bee22]{margin-top:%?22?%}uni-page-body[data-v-529bee22]{background:#f4f8fb}.cangkuyuan_saomaruku_item2[data-v-529bee22]{margin-top:%?22?%}.cangkuyuan_saomaruku_item1_list[data-v-529bee22],\n.cangkuyuan_saomaruku_item2[data-v-529bee22]{background:#fff;padding:0 %?32?%}.cangkuyuan_saomaruku_item1_cont[data-v-529bee22]{padding:%?40?% 0;display:flex;border-bottom:1px solid #efefef;align-items:center;justify-content:space-between}.cangkuyuan_saomaruku_item1_cont_l[data-v-529bee22]{display:flex;align-items:center}.cangkuyuan_saomaruku_item1_cont_l uni-image[data-v-529bee22]{width:%?34?%;height:%?40?%}.cangkuyuan_saomaruku_item1_cont_l uni-text[data-v-529bee22]{font-size:%?30?%;margin-left:%?26?%;font-weight:400;color:#333;line-height:%?44?%}.cangkuyuan_saomaruku_item1_cont_r[data-v-529bee22]{font-size:%?30?%;font-weight:400;color:#333;line-height:%?44?%}.cangkuyuan_saomaruku_item2_r[data-v-529bee22]{width:66%;display:flex;align-items:center;justify-content:space-between}.cangkuyuan_saomaruku_item2_r uni-input[data-v-529bee22]{width:60%;font-size:%?28?%;font-weight:400;color:#999;line-height:%?42?%}.cangkuyuan_saomaruku_item2_r uni-text[data-v-529bee22]{font-size:%?28?%;font-weight:400;color:#999;line-height:%?42?%}.cangkuyuan_saomaruku_item2_r1[data-v-529bee22]{display:flex;align-items:center;background:#ff9e00;border-radius:%?50?%;padding:%?7?% %?20?%}.cangkuyuan_saomaruku_item2_r1 uni-image[data-v-529bee22]{width:%?30?%;height:%?30?%}.cangkuyuan_saomaruku_item2_r1 uni-text[data-v-529bee22]{font-size:%?28?%;font-weight:400;color:#fff;margin-left:%?12?%;line-height:%?42?%}.cangkuyuan_saomaruku_item2_r2[data-v-529bee22]{font-size:0}.cangkuyuan_saomaruku_item2_r2 uni-image[data-v-529bee22]{width:%?12?%;height:%?22?%}.cangkuyuan_saomaruku_item2_r3[data-v-529bee22]{width:66%}.cangkuyuan_saomaruku_item2_r3 uni-input[data-v-529bee22],\n.cangkuyuan_saomaruku_item2_r3 uni-text[data-v-529bee22]{width:100%;font-size:%?28?%;font-weight:400;color:#999;line-height:%?42?%}.cangkuyuan_saomaruku_item1_cont2[data-v-529bee22]{border-bottom:1px solid #efefef;display:flex;flex-direction:column;padding:%?40?% 0}.cangkuyuan_saomaruku_item2_r4_t1[data-v-529bee22]{font-size:%?28?%;font-weight:400;color:#333;line-height:%?42?%}.cangkuyuan_saomaruku_item2_r4_cont uni-input[data-v-529bee22]{font-size:%?28?%;font-weight:400;padding:%?12?% %?20?%;background:#f5f5f5;border-radius:%?10?%;margin-left:%?18?%;color:#666;line-height:%?42?%}.cangkuyuan_saomaruku_item2_r4[data-v-529bee22]{display:flex;align-items:center;margin-top:%?26?%}.cangkuyuan_saomaruku_item2_r4_cont[data-v-529bee22]{display:flex;align-items:center;margin-left:%?42?%}.cangkuyuan_saomaruku_item2_r5[data-v-529bee22]{display:flex;align-items:center;flex-wrap:wrap;margin-top:%?22?%;padding-left:%?60?%}.cangkuyuan_saomaruku_item2_r5_img[data-v-529bee22]{font-size:0}.cangkuyuan_saomaruku_item2_r5_img uni-image[data-v-529bee22]{width:%?146?%;height:%?134?%}body.?%PAGE?%[data-v-529bee22]{background:#f4f8fb}",""]),a.exports=t},5750:function(a,t,n){n("d3b7");var i=getApp(),e=i.globalData.url;function u(a,t){console.log(i.globalData.jiazai,"加载加载加载");var n=new Promise((function(n,u){uni.showLoading({title:i.globalData.jiazai+"..."}),uni.request({url:e+"".concat(a),data:t,method:"POST",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(a){uni.hideLoading({success:function(a){}}),-1==a.data.code&&(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:i.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:i.globalData.zhonghan.mqudenglu,success:function(a){a.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),n(a)},fail:function(a){uni.showToast({title:i.globalData.zhonghan.mxiaochai+"2",icon:"none",duration:2e3}),u(a)}})}));return n}function o(a,t){var n=new Promise((function(n,u){uni.showLoading({title:i.globalData.jiazai+"..."}),uni.request({url:e+"".concat(a),data:t,method:"GET",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(a){uni.hideLoading({success:function(a){}}),-1==a.data.code&&(console.log(333),uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:i.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:i.globalData.zhonghan.mqudenglu,success:function(a){a.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),n(a)},fail:function(a){uni.showToast({title:i.globalData.zhonghan.mxiaochai,icon:"none",duration:2e3}),u(a)}})}));return n}a.exports={post:u,get:o}},"7e16":function(a,t,n){"use strict";n.r(t);var i=n("0d5e"),e=n.n(i);for(var u in i)"default"!==u&&function(a){n.d(t,a,(function(){return i[a]}))}(u);t["default"]=e.a},8604:function(a,t,n){var i=n("45c7");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var e=n("4f06").default;e("c7785084",i,!0,{sourceMap:!1,shadowMode:!1})},a1cd:function(a,t,n){"use strict";n.r(t);var i=n("fb87"),e=n("7e16");for(var u in e)"default"!==u&&function(a){n.d(t,a,(function(){return e[a]}))}(u);n("23ea");var o,s=n("f0c5"),c=Object(s["a"])(e["default"],i["b"],i["c"],!1,null,"529bee22",null,!1,i["a"],o);t["default"]=c.exports},fb87:function(a,t,n){"use strict";var i;n.d(t,"b",(function(){return e})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("v-uni-view",{staticClass:"indexs"},[n("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+a.navH+"px;"},[n("v-uni-view",{staticClass:"header_height",style:"height:"+a.gaodu+"px;line-height:"+a.gaodu+"px;top:"+a.gaodutops+"px;"},[n("v-uni-view",{staticClass:"index_h_cont3"},[n("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.jumpzuo.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),2!=a.leixing?n("v-uni-view",{staticClass:"index_wenben"},[a._v(a._s(0==a.leixing?"扫码入库":"扫码下架"))]):a._e(),2==a.leixing?n("v-uni-view",{staticClass:"index_wenben"},[a._v("扫码修改")]):a._e()],1)],1),n("v-uni-view",{staticClass:"coloe_title"},[a._v("s")])],1),n("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(a.navH+50)+"px;padding-bottom: 130rpx;"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_center"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_list"},[1==a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont",style:1==a.type?"border-bottom: none;":""},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img184.png"}}),n("v-uni-text",[a._v("上一个入库单号")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_r"},[a._v(a._s(a.rukudanhao?a.rukudanhao:""))])],1):a._e(),2==a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont",staticStyle:{"border-bottom":"none"}},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img185.png"}}),n("v-uni-text",[a._v("所在货架")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_r"},[a._v(a._s(a.huojialistFun))])],1):a._e()],1)],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img186.png"}}),n("v-uni-text",[a._v("包裹单号")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入包裹单号","data-type":a.type,value:a.scanCodeMsg},on:{blur:function(t){arguments[0]=t=a.$handleEvent(t),a.getdanhao.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r1",attrs:{"data-type":a.type},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.getScancode.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img196.png"}}),n("v-uni-text",[a._v("扫码")])],1)],1)],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img187.png"}}),n("v-uni-text",[a._v("入库仓库")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r"},[n("v-uni-text",[a._v(a._s(a.arrlist.storage.shop_name))])],1)],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img188.png"}}),n("v-uni-text",[a._v("所属用户ID")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r3"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入所属用户ID",value:a.yonghuid},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.yonghuidFun.apply(void 0,arguments)}}})],1)],1),2==a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img189.png"}}),n("v-uni-text",[a._v("所在货架")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r"},[n("v-uni-input",{attrs:{type:"text",placeholder:"暂无所在货架",value:a.scanCodeMsghuojia},on:{blur:function(t){arguments[0]=t=a.$handleEvent(t),a.suozaihuojia.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r1",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.getScancodehuojia.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img196.png"}}),n("v-uni-text",[a._v("扫码")])],1)],1)],1):a._e(),1!=a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img190.png"}}),n("v-uni-text",[a._v("重量(选填)")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r3"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入包裹重量(kg)",value:a.arrlist.weight},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.zhongliangFun.apply(void 0,arguments)}}})],1)],1):a._e(),1!=a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont2",style:1!=a.type?"border:none":""},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img191.png"}}),n("v-uni-text",[a._v("包裹体积(选填)")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_t1"},[a._v("长")]),n("v-uni-input",{attrs:{type:"text",placeholder:"单位:cm",value:a.arrlist.length},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.changFun.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_t1"},[a._v("宽")]),n("v-uni-input",{attrs:{type:"text",placeholder:"单位:cm",value:a.arrlist.width},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.kuanFun.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_cont"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r4_t1"},[a._v("高")]),n("v-uni-input",{attrs:{type:"text",placeholder:"单位:cm",value:a.arrlist.height},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.gaoFun.apply(void 0,arguments)}}})],1)],1)],1):a._e(),1==a.type?n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont2",staticStyle:{"border-bottom":"none"}},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item1_cont_l"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img192.png"}}),n("v-uni-text",[a._v("拍照上传")])],1),n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r5"},[n("v-uni-view",{staticClass:"cangkuyuan_saomaruku_item2_r5_img"},[n("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img193.png"}})],1)],1)],1):a._e()],1),0==a.leixing&&1==a.type?n("v-uni-view",{staticClass:"baoguo_btns"},[n("v-uni-view",{staticClass:"baoguo_btns_posi"},[n("v-uni-view",{staticClass:"baoguo_btn",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.saomarukugo.apply(void 0,arguments)}}},[a._v("扫码入库")])],1)],1):a._e(),0==a.leixing&&2==a.type?n("v-uni-view",{staticClass:"baoguo_btns"},[n("v-uni-view",{staticClass:"baoguo_btns_posi"},[n("v-uni-view",{staticClass:"baoguo_btn",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.saomarukugo2.apply(void 0,arguments)}}},[a._v("确定上架")])],1)],1):a._e(),1==a.leixing?n("v-uni-view",{staticClass:"baoguo_btns"},[n("v-uni-view",{staticClass:"baoguo_btns_posi"},[n("v-uni-view",{staticClass:"baoguo_btn"},[a._v("扫码下架")])],1)],1):a._e(),2==a.leixing?n("v-uni-view",{staticClass:"baoguo_btns"},[n("v-uni-view",{staticClass:"baoguo_btns_posi"},[n("v-uni-view",{staticClass:"baoguo_btn"},[a._v("扫码修改")])],1)],1):a._e()],1)],1)],1)},u=[]}}]);