(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-list"],{2052:function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,".store_nav_cont[data-v-5d4aa4fa]{padding:%?20?% 0}.store_nav_cont #list-true[data-v-5d4aa4fa]{color:#ff495e;font-size:%?28?%}.store_nav_cont #list-0[data-v-5d4aa4fa]{color:#333;font-size:%?28?%}.store_nav_cont .price__arrow[data-v-5d4aa4fa]{padding-left:%?20?%;font-size:%?18?%;color:#777}.store_nav_cont #list-true .price__arrow uni-text.active[data-v-5d4aa4fa]{color:#ff495e}.container[data-v-5d4aa4fa]{position:relative}.index-cont-search uni-icon[data-v-5d4aa4fa]{left:0;margin-left:%?20?%}.index-search-box[data-v-5d4aa4fa]{background:#fff;padding:%?18?% %?13?%;border-bottom:%?1?% solid #eee}.index-search[data-v-5d4aa4fa]{border-bottom:0;background:#fff;border-radius:%?50?%;overflow:hidden;position:relative;font-size:%?32?%;color:#999;box-sizing:border-box;height:%?64?%;line-height:%?64?%;margin:0 %?10?%}.list-right[data-v-5d4aa4fa]{width:%?60?%}.list-right uni-text[data-v-5d4aa4fa]{height:%?60?%;line-height:%?60?%;font-size:%?40?%}.list-header[data-v-5d4aa4fa]{position:fixed;top:%?1?%;left:0;right:0}.no-more[data-v-5d4aa4fa]{text-align:center;color:#737373;padding:%?20?% 0}.category-list[data-v-5d4aa4fa]{overflow:hidden}.category-list .list[data-v-5d4aa4fa]{box-sizing:border-box;width:50%;float:left}.category-list .list[data-v-5d4aa4fa]:nth-child(2n){border-left:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list[data-v-5d4aa4fa]:nth-child(2n-1){border-right:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list .left[data-v-5d4aa4fa],\n.category-list .right[data-v-5d4aa4fa]{width:100%}.category-list .list .left .img uni-image[data-v-5d4aa4fa]{width:100%;height:%?375?%;display:block}.category-list .right .cont[data-v-5d4aa4fa]{padding:%?10?% %?12?%}.category-list .right .cont .title[data-v-5d4aa4fa]{height:%?72?%;line-height:1.3}.category-list.arrange .list[data-v-5d4aa4fa]{overflow:hidden;padding:%?15?%;border-bottom:%?1?% solid #f7f7f7;width:100%}.category-list.arrange .list uni-text[data-v-5d4aa4fa]{line-height:1.6}.category-list.arrange .list .left[data-v-5d4aa4fa]{width:35%;float:left}.category-list.arrange .list .right[data-v-5d4aa4fa]{width:65%;float:left}.category-list.arrange .list .left .img uni-image[data-v-5d4aa4fa]{width:%?220?%;height:%?220?%}\n\n/* 商品卖点 */.selling_point[data-v-5d4aa4fa]{width:100%;font-size:%?24?%;line-height:1.4;color:#ff495e}.goods_sales[data-v-5d4aa4fa]{color:#999;font-size:%?24?%}\n\n/* 商品价格 */.detail-price[data-v-5d4aa4fa]{font-size:%?24?%}.detail-price .goods-price[data-v-5d4aa4fa]{margin-right:%?8?%}.detail-price .line-price[data-v-5d4aa4fa]{text-decoration:line-through}",""]),t.exports=a},"33ec":function(t,a,i){"use strict";var e;i.d(a,"b",(function(){return s})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return e}));var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"list-header"},[i("v-uni-view",{staticClass:"index-search-box dis-flex"},[i("v-uni-view",{staticClass:"index-search flex-box",on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.triggerSearch.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"index-cont-search"},[i("v-uni-icon",{staticClass:"text-center",staticStyle:{top:"24%!important"},attrs:{size:"15",type:"search"}}),i("v-uni-text",[t._v(t._s(t.option.search?t.option.search:"搜索商品"))])],1)],1),i("v-uni-view",{staticClass:"list-right f-28",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onChangeShowState.apply(void 0,arguments)}}},[t.showView?i("v-uni-text",{staticClass:"iconfont icon-tubiao_kuaizhuangpailie"}):i("v-uni-text",{staticClass:"iconfont icon-tubiao_liebiaopailie"})],1)],1),i("v-uni-view",{staticClass:"store_nav_cont dis-flex b-f b-b"},[i("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"all","data-index":"0 ",id:"list-"+("all"===t.sortType||0)},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchSortType.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("综合")])],1),i("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"sales","data-index":"1",id:"list-"+("sales"===t.sortType||0)},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchSortType.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("销量")])],1),i("v-uni-view",{staticClass:"dis-flex flex-x-center flex-box t-c p-r",attrs:{"data-type":"price","data-index":"2",id:"list-"+("price"===t.sortType||0)},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchSortType.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"price__text"},[t._v("价格")]),i("v-uni-view",{staticClass:"price__arrow dis-flex flex-dir-column flex-x-center flex-y-center"},[i("v-uni-text",{class:"iconfont icon-arrow-top "+(t.sortPrice?"":"active")}),i("v-uni-text",{class:"iconfont icon-arrow-bottom "+(t.sortPrice?"active":"")})],1)],1)],1),t.list.data.length>0?i("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px; width: 750rpx;",attrs:{"scroll-y":!0},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.bindDownLoad.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"new"},[i("v-uni-view",{class:"category-list "+(t.showView?"arrange":"")},t._l(t.list.data,(function(a,e){return i("v-uni-navigator",{key:a.list,staticClass:"list b-f",attrs:{"hover-class":"none",url:"../goods/index?goods_id="+a.goods_id}},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"img"},[i("v-uni-image",{staticClass:"goodsImg",attrs:{mode:"scaleToFill",src:a.goods_image}})],1)],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"cont"},[i("v-uni-text",{staticClass:"title f-29 twolist-hidden"},[t._v(t._s(a.goods_name))]),t.showView?[i("v-uni-view",{staticClass:"selling_point onelist-hidden"},[i("v-uni-text",[t._v(t._s(a.selling_point))])],1),i("v-uni-view",{staticClass:"goods_sales dis-flex"},[i("v-uni-text",{staticClass:"onelist-hidden"},[t._v("已售"+t._s(a.goods_sales)+"件")])],1)]:t._e(),i("v-uni-view",{staticClass:"detail-price onelist-hidden"},[i("v-uni-text",{staticClass:"goods-price f-30 col-m"},[t._v("￥"+t._s(a.goods_sku.goods_price))]),a.goods_sku.line_price>0?i("v-uni-text",{staticClass:"line-price col-9 f-24"},[t._v(t._s(a.goods_sku.line_price))]):t._e()],1)],2)],1)],1)})),1)],1),t.no_more?i("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e()],1):t._e()],1),t.isLoading||t.list.data.length?t._e():i("v-uni-view",{staticClass:"yoshop-notcont",staticStyle:{"margin-top":"130px"}},[i("v-uni-view",{staticClass:"img"},[i("v-uni-image",{attrs:{mode:"aspectFit",src:"/static/images/no_content.png"}})],1),i("v-uni-text",{staticClass:"cont"},[t._v("亲, 没有相关内容")])],1)],1)},o=[]},3900:function(t,a,i){"use strict";i.r(a);var e=i("8e2b"),s=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(a,t,(function(){return e[t]}))}(o);a["default"]=s.a},"6d18":function(t,a,i){"use strict";var e=i("78ee"),s=i.n(e);s.a},"78ee":function(t,a,i){var e=i("2052");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("95756a12",e,!0,{sourceMap:!1,shadowMode:!1})},"8e2b":function(t,a,i){"use strict";i("99af"),i("ac1f"),i("841c"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=getApp(),s="category/list::",o={data:function(){return{scrollHeight:null,showView:!1,sortType:"all",sortPrice:!1,option:{search:!1},list:{data:{length:0}},no_more:!1,isLoading:!0,page:1}},onLoad:function(t){var a=this;a.setListHeight(),a.setData({option:t}),a.setShowView(),a.getGoodsList()},onShareAppMessage:function(){return{title:"全部分类",path:"/pages/category/index?"+e.globalData.getShareUrlParams()}},methods:{setShowView:function(){var t=this;t.setData({showView:uni.getStorageSync(s+"showView")||!1})},getGoodsList:function(t,a){var i=this;e.globalData._get("goods/lists",{page:a||1,sortType:this.sortType,sortPrice:this.sortPrice?1:0,category_id:this.option.category_id||0,search:this.option.search||""},(function(a){var e=a.data.list,s=i.list;1==t?i.setData({"list.data":s.data.concat(e.data),isLoading:!1}):i.setData({list:e,isLoading:!1})}))},setListHeight:function(){var t=this;uni.getSystemInfo({success:function(a){t.setData({scrollHeight:a.windowHeight-90})}})},switchSortType:function(t){var a=this,i=t.currentTarget.dataset.type,e="price"!==i||!this.sortPrice;this.setData({list:{},isLoading:!0,page:1,sortType:i,sortPrice:e},(function(){a.getGoodsList()}))},onChangeShowState:function(){var t=this,a=!t.showView;uni.setStorageSync(s+"showView",a),t.setData({showView:a})},bindDownLoad:function(){if(this.page>=this.list.last_page)return this.setData({no_more:!0}),!1;this.getGoodsList(!0,++this.page)},triggerSearch:function(){var t=getCurrentPages();t.length>1&&"pages/search/index"===t[t.length-2].route?uni.navigateBack():uni.navigateTo({url:"../search/index"})}}};a.default=o},ffe7:function(t,a,i){"use strict";i.r(a);var e=i("33ec"),s=i("3900");for(var o in s)"default"!==o&&function(t){i.d(a,t,(function(){return s[t]}))}(o);i("6d18");var n,r=i("f0c5"),l=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"5d4aa4fa",null,!1,e["a"],n);a["default"]=l.exports}}]);