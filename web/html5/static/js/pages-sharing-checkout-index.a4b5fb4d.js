(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharing-checkout-index"],{"0d75":function(t,i,e){"use strict";e("ac1f"),e("466d"),e("498a"),Object.defineProperty(i,"__esModule",{value:!0}),i.isDouble=i.isInteger=i.isPositiveInteger=i.isNumber=i.isEmail=i.isMobile=i.isPhone=i.isEmpty=void 0;var n=function(t){return""==t.trim()};i.isEmpty=n;var a=function(t){var i=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;return i.test(t)};i.isPhone=a;var o=function(t){var i=/^(1[3456789]\d{9})$/;return i.test(t)};i.isMobile=o;var s=function(t){if(null==t||""==t)return!1;var i=t.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/);return null!=i};i.isEmail=s;var l=function(t){return!(!u(t)&&!r(t))};i.isNumber=l;var d=function(t){return/(^[0-9]\d*$)/.test(t)};i.isPositiveInteger=d;var r=function(t){if(null==t||""==t)return!1;var i=t.match(/^[-\+]?\d+$/);return null!=i};i.isInteger=r;var u=function(t){if(null==t||""==t)return!1;var i=t.match(/^[-\+]?\d+(\.\d+)?$/);return null!=i};i.isDouble=u},"2ee7":function(t,i){t.exports={BALANCE:{name:"余额支付",value:10},WECHAT:{name:"微信支付",value:20}}},5750:function(t,i,e){e("d3b7");var n=getApp(),a=n.globalData.url;function o(t,i){console.log(n.globalData.jiazai,"加载加载加载");var e=new Promise((function(e,o){uni.showLoading({title:n.globalData.jiazai+"..."}),uni.request({url:a+"".concat(t),data:i,method:"POST",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:n.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:n.globalData.zhonghan.mqudenglu,success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),e(t)},fail:function(t){uni.showToast({title:n.globalData.zhonghan.mxiaochai+"2",icon:"none",duration:2e3}),o(t)}})}));return e}function s(t,i){var e=new Promise((function(e,o){uni.showLoading({title:n.globalData.jiazai+"..."}),uni.request({url:a+"".concat(t),data:i,method:"GET",header:{platform:"H5",lang:localStorage.getItem("locale")},success:function(t){uni.hideLoading({success:function(t){}}),-1==t.data.code&&(console.log(333),uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showModal({title:"",content:n.globalData.zhonghan.mguoqi,showCancel:!1,confirmText:n.globalData.zhonghan.mqudenglu,success:function(t){t.confirm&&uni.reLaunch({url:"/pages/my/my"})}})),e(t)},fail:function(t){uni.showToast({title:n.globalData.zhonghan.mxiaochai,icon:"none",duration:2e3}),o(t)}})}));return e}t.exports={post:o,get:s}},"5c25":function(t,i){t.exports={EXPRESS:{name:"快递配送",value:10},EXTRACT:{name:"上门自提",value:20}}},"66b9":function(t,i,e){"use strict";e.r(i);var n=e("8aaf"),a=e("6953");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("d5f1");var s,l=e("f0c5"),d=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"02f413d9",null,!1,n["a"],s);i["default"]=d.exports},6953:function(t,i,e){"use strict";e.r(i);var n=e("c4df"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"7f28":function(t,i,e){var n=e("cca0");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("2414222a",n,!0,{sourceMap:!1,shadowMode:!1})},"8aaf":function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{},[e("v-uni-view",{staticClass:"header header_wi",style:"padding-top: "+t.navH+"px;"},[e("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[e("v-uni-view",{staticClass:"index_h_cont3"},[e("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpzuo.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:"http://daigou.sllowly.cn/assets/api/images/dzx_img33.png",mode:"widthFix"}})],1),e("v-uni-view",{staticClass:"index_wenben"},[t._v(t._s(t.$t("pintuandingdan.faqipintuan")))])],1)],1),e("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),e("v-uni-view",{staticClass:"index_center",style:"padding-top:"+(t.navH+50)+"px;padding-bottom:96rpx;"},[t.goods_list.length?e("v-uni-view",{staticClass:"containers p-bottom"},[t.isShowTab?e("v-uni-view",{staticClass:"swiper-tab dis-flex flex-y-center flex-x-around"},t._l(t.DeliveryTypeEnum,(function(i,n){return e("v-uni-view",{key:n,class:"swiper-tab-item "+(t.curDelivery==i.value?"on":""),attrs:{"data-current":i.value},on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onSwichDelivery.apply(void 0,arguments)}}},[t._v(t._s(i.name))])})),1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXPRESS.value?e("v-uni-view",{staticClass:"flow-delivery",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onSelectAddress.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"detail-location dis-flex"},[e("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),e("v-uni-view",{staticClass:"detail-content flex-box"},[t.arrlist.length>0?[e("v-uni-view",{staticClass:"address_indexs"},[e("v-uni-view",{staticClass:"address_indexs_l"},[e("v-uni-view",{staticClass:"detail-content__title dis-flex"},[e("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.dizhixuanze.name))]),e("v-uni-text",{staticClass:"detail-content__title-phone f-28"},[t._v(t._s(t.dizhixuanze.phone))])],1),e("v-uni-view",{staticClass:"detail-content__describe"},[e("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.dizhixuanze.province)+" "+t._s(t.dizhixuanze.city)+" "+t._s(t.dizhixuanze.region)+" "+t._s(t.dizhixuanze.detail))])],1)],1),e("v-uni-view",{staticClass:"address_indexs_r",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.genghuandizhi.apply(void 0,arguments)}}},[t._v(t._s(t.$t("pintuandingdan.fqgenghuan")))])],1)]:[e("v-uni-view",{staticClass:"address_indexs"},[e("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[e("v-uni-text",{staticClass:"col-6"},[t._v(t._s(t.$t("pintuandingdan.fqdizhi")))])],1),e("v-uni-view",{staticClass:"address_indexs_r",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.genghuandizhi.apply(void 0,arguments)}}},[t._v(t._s(t.$t("pintuandingdan.fqgenghuan")))])],1)]],2),e("v-uni-view",{staticClass:"detail-arrow dis-flex"},[e("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1):t._e(),t.curDelivery==t.DeliveryTypeEnum.EXTRACT.value?[e("v-uni-view",{staticClass:"flow-delivery",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onSelectExtractPoint.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"flow-delivery__detail dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"detail-location dis-flex"},[e("v-uni-text",{staticClass:"iconfont icon-dingwei"})],1),e("v-uni-view",{staticClass:"detail-content flex-box"},[t.extract_shop.shop_id?[e("v-uni-view",{staticClass:"detail-content__title dis-flex"},[e("v-uni-text",{staticClass:"f-30"},[t._v(t._s(t.extract_shop.shop_name))])],1),e("v-uni-view",{staticClass:"detail-content__describe"},[e("v-uni-text",{staticClass:"col-7"},[t._v(t._s(t.extract_shop.region.province)+" "+t._s(t.extract_shop.region.city)+" "+t._s(t.extract_shop.region.region)+" "+t._s(t.extract_shop.address))])],1)]:[e("v-uni-view",{staticClass:"detail-content__describe dis-flex"},[e("v-uni-text",{staticClass:"col-6"},[t._v(t._s(t.$t("pintuandingdan.fqzitidian")))])],1)]],2),e("v-uni-view",{staticClass:"detail-arrow dis-flex"},[e("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1),e("v-uni-view",{staticClass:"flow-extract-contact m-top20 b-f"},[e("v-uni-view",{staticClass:"contact-item dis-flex"},[e("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[e("v-uni-text",[t._v(t._s(t.$t("pintuandingdan.fqlianxiren"))+"：")])],1),e("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[e("v-uni-input",{attrs:{placeholder:t.$t("pintuandingdan.fqlianxirentxt"),value:t.linkman},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.onInputLinkman.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"contact-item dis-flex"},[e("v-uni-view",{staticClass:"item_label dis-flex flex-x-end flex-y-center"},[e("v-uni-text",[t._v(t._s(t.$t("pintuandingdan.fqlianxi"))+"：")])],1),e("v-uni-view",{staticClass:"item_ipt flex-box dis-flex flex-y-center"},[e("v-uni-input",{attrs:{placeholder:t.$t("pintuandingdan.fqlianxitxt"),value:t.phone},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.onInputPhone.apply(void 0,arguments)}}})],1)],1)],1)]:t._e(),e("v-uni-view",{staticClass:"m-top20"},[t._l(t.goods_list,(function(i,n){return e("v-uni-view",{key:n,staticClass:"checkout_list"},[e("v-uni-form",{attrs:{"data-id":i.goods_id,"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onTargetGoods.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[e("v-uni-view",{staticClass:"flow-shopList dis-flex",attrs:{"data-index":n}},[e("v-uni-view",{staticClass:"flow-list-left"},[e("v-uni-image",{attrs:{mode:"scaleToFill",src:i.goods_image}})],1),e("v-uni-view",{staticClass:"flow-list-right flex-box"},[e("v-uni-text",{staticClass:"f-30 col-3 twolist-hidden"},[t._v(t._s(i.goods_name))]),e("v-uni-text",{staticClass:"f-24 col-7"},[t._v(t._s(i.goods_sku.goods_attr))]),e("v-uni-view",{staticClass:"flow-list-cont dis-flex flex-x-between flex-y-center"},[e("v-uni-text",{staticClass:"small"},[t._v("×"+t._s(i.total_num))]),e("v-uni-text",{class:"flow-cont "+(i.is_user_grade?"price-delete":"")},[t._v("￥"+t._s(i.goods_price))])],1),i.is_user_grade?e("v-uni-view",{staticClass:"grade-price"},[e("v-uni-text",[t._v(t._s(t.$t("pintuandingdan.fqhuiyuan"))+"：￥"+t._s(i.grade_goods_price))])],1):t._e()],1)],1)],1)],1)],1)})),e("v-uni-view",{staticClass:"flow-num-box b-f padding-box"},[e("v-uni-text",[t._v(t._s(t.$t("pintuandingdan.fqgong"))+t._s(t.order_total_num)+t._s(t.$t("pintuandingdan.fqheji"))+"：")]),e("v-uni-text",{staticClass:"flow-money col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],2),e("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[e("v-uni-view",{staticClass:"flow-all-list dis-flex"},[e("v-uni-text",{staticClass:"flex-five"},[t._v(t._s(t.$t("pintuandingdan.fqdingdan"))+"：")]),e("v-uni-view",{staticClass:"flex-five t-r"},[e("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_total_price))])],1)],1),e("v-uni-view",{staticClass:"flow-all-list dis-flex"},[e("v-uni-text",{staticClass:"flex-five"},[t._v(t._s(t.$t("pintuandingdan.fqyouhui"))+"：")]),e("v-uni-view",{staticClass:"flex-five t-r"},[e("v-uni-view",{staticClass:"flow-list-coupon",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onTogglePopupCoupon.apply(void 0,arguments)}}},[t.coupon_list.length>0?[t.coupon_id>0?e("v-uni-text",{staticClass:"col-m"},[t._v("-￥"+t._s(t.coupon_money))]):e("v-uni-text",{staticClass:"col-m"},[t._v(t._s(t.$t("pintuandingdan.fqyou"))+t._s(t.coupon_list.length)+t._s(t.$t("pintuandingdan.fqkeyong")))]),e("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})]:e("v-uni-text",{},[t._v(t._s(t.$t("pintuandingdan.fqzanwu")))])],2)],1)],1),t.is_allow_points?e("v-uni-view",{staticClass:"points flow-all-list dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"block-left flex-five"},[e("v-uni-form",{staticClass:"flex-five",attrs:{"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onShowPoints.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(t.$t("pintuandingdan.fqkeyong"))+t._s(t.setting.points_name)+t._s(t.$t("pintuandingdan.fqdikou"))+"：")]),e("v-uni-text",{staticClass:"iconfont icon-help"})],1)],1)],1),e("v-uni-view",{staticClass:"flex-five dis-flex flex-x-end flex-y-center"},[e("v-uni-text",{staticClass:"points-money col-m"},[t._v("￥"+t._s(t.points_money))]),e("van-switch",{attrs:{checked:t.isUsePoints,size:"48rpx","active-color":"#07c160"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.onTriggerPoints.apply(void 0,arguments)}}})],1)],1):t._e()],1),e("v-uni-view",{staticClass:"pay-method flow-all-money b-f m-top20"},[e("v-uni-view",{staticClass:"flow-all-list dis-flex"},[e("v-uni-text",{staticClass:"flex-five"},[t._v(t._s(t.$t("pintuandingdan.fqzhifu")))])],1),e("v-uni-form",{attrs:{"data-value":t.PayTypeEnum.BALANCE.value,"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onSelectPayType.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[e("v-uni-view",{staticClass:"pay-item dis-flex flex-x-between"},[e("v-uni-view",{staticClass:"item-left dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"item-left_icon balance"},[e("v-uni-text",{staticClass:"iconfont icon-qiandai"})],1),e("v-uni-view",{staticClass:"item-left_text"},[e("v-uni-text",[t._v(t._s(t.PayTypeEnum.BALANCE.name))])],1)],1),t.curPayType==t.PayTypeEnum.BALANCE.value?e("v-uni-view",{staticClass:"item-right col-m"},[e("v-uni-image",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"http://daigou.sllowly.cn/assets/api/selected.png"}})],1):t._e()],1)],1)],1)],1),e("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[e("v-uni-view",{staticClass:"ipt-wrapper dis-flex flow-all-list"},[e("v-uni-input",{attrs:{placeholder:t.$t("pintuandingdan.fqliuyan"),value:t.remark},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.bindRemark.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"flow-fixed-footer b-f m-top10"},[e("v-uni-view",{staticClass:"dis-flex chackout-box"},[e("v-uni-view",{staticClass:"chackout-left pl-12"},[t._v(t._s(t.$t("pintuandingdan.fqshifukuan"))+"："),e("v-uni-text",{staticClass:"col-m"},[t._v("￥"+t._s(t.order_pay_price))])],1),e("v-uni-view",{staticClass:"chackout-right",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onSubmitOrder.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"flow-btn"},[t._v(t._s(t.$t("pintuandingdan.fqtijiao")))])],1)],1)],1),e("zan-popup",{attrs:{show:t.showBottomPopup,type:"bottom"},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.onTogglePopupCoupon.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"popup__coupon"},[e("v-uni-view",{staticClass:"coupon__title f-32"},[t._v(t._s(t.$t("pintuandingdan.fqxuanzeyouhuiq")))]),e("v-uni-view",{staticClass:"coupon-list"},[e("v-uni-scroll-view",{staticStyle:{height:"565rpx"},attrs:{"scroll-y":!0}},t._l(t.coupon_list,(function(i,n){return e("v-uni-view",{key:n,staticClass:"coupon-item"},[e("v-uni-view",{class:"item-wrapper color__"+i.color.text,attrs:{"data-index":n,"data-id":i.user_coupon_id},on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onSelectCoupon.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"coupon-type"},[t._v(t._s(i.coupon_type.text))]),e("v-uni-view",{staticClass:"tip dis-flex flex-dir-column flex-x-center"},[10==i.coupon_type.value?e("v-uni-view",[e("v-uni-text",{staticClass:"f-30"},[t._v("￥")]),e("v-uni-text",{staticClass:"money"},[t._v(t._s(i.reduce_price))])],1):t._e(),20==i.coupon_type.value?e("v-uni-text",{staticClass:"money"},[t._v(t._s(i.discount)+t._s(t.$t("pintuandingdan.fqzhe")))]):t._e(),e("v-uni-text",{staticClass:"pay-line"},[t._v(t._s(t.$t("pintuandingdan.fqman"))+t._s(i.min_price)+t._s(t.$t("pintuandingdan.fqyuankeyong")))])],1),e("v-uni-view",{staticClass:"split-line"}),e("v-uni-view",{staticClass:"content dis-flex flex-dir-column flex-x-between"},[e("v-uni-view",{staticClass:"title"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"bottom dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"time flex-box"},[e("v-uni-text",[t._v(t._s(t.$t("pintuandingdan.fqyouxaioqi"))+"："+t._s(i.start_time.text)+"~"+t._s(i.end_time.text))])],1)],1)],1)],1)],1)})),1)],1),e("v-uni-view",{staticClass:"coupon__do_not dis-flex flex-y-center flex-x-center"},[e("v-uni-view",{staticClass:"control dis-flex flex-y-center flex-x-center",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.onNotUseCoupon.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"f-26"},[t._v(t._s(t.$t("pintuandingdan.fqbushiyong")))])],1)],1)],1)],1),e("zan-dialog",{attrs:{id:"zan-base-dialog"}})],2):t._e()],1)],1)},o=[]},c4df:function(t,i,e){"use strict";var n=e("4ea4");e("498a"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("b287")),o=n(e("c400")),s=n(e("4199")),l=(n(e("a18d")),n(e("0d75"))),d=n(e("5c25")),r=n(e("2ee7")),u=n(e("809a")),c=getApp(),p=e("5750"),f={components:{zanPopup:a.default,zanDialog:o.default,shortcut:s.default},data:function(){return{navH:0,gaodu:c.globalData.height,gaodutops:c.globalData.top,options:{},setting:{delivery:[],points_name:""},isShowTab:!1,DeliveryTypeEnum:d.default,curDelivery:null,PayTypeEnum:r.default,curPayType:r.default.BALANCE.value,address:null,exist_address:!1,selectedShopId:0,linkman:"",phone:"",goods:{},selectCouponId:0,isUsePoints:!1,remark:"",disabled:!1,has_error:!1,error_msg:"",notRefresh:!1,showBottomPopup:!1,goods_list:{length:""},value:"",province:"",city:"",region:"",extract_shop:{shop_id:"",shop_name:"",region:{province:"",city:"",region:""},address:""},order_total_num:0,order_total_price:"",coupon_list:{length:0},coupon_id:0,coupon_money:"",is_allow_points:[],points_money:"",intra_region:"",express_price:"",name:"",order_pay_price:"",address_id:"",dizhixuanze:{},arrlist:[]}},onLoad:function(t){var i=this;i.options=t,i.setData({navH:c.globalData.navHeight})},onShow:function(){var t=this;t.notRefresh||t.getOrderData();var i=getCurrentPages(),e=i[i.length-1];if(e.address_id){for(var n={},a=0;a<t.arrlist.length;a++)t.arrlist[a].address_id==e.address_id&&(n=t.arrlist[a]);t.setData({address_id:e.address_id,dizhixuanze:n}),console.log(t.address_id,"address_id?")}else t.dizhilist()},methods:{jumpzuo:function(){uni.navigateBack()},dizhilist:function(){var t=this,i={token:uni.getStorageSync("token")};p.post("index.php?s=/api/address/lists&wxapp_id="+uni.getStorageSync("web_id"),i).then((function(i){1==i.data.code&&(t.setData({arrlist:i.data.data.list,address_id:i.data.data.list[0].address_id,dizhixuanze:i.data.data.list[0]}),console.log(t.arrlist,";ressssssss"),console.log(t.address_id,";ressssssss"))}))},genghuandizhi:function(){uni.navigateTo({url:"/pages/pintuans/dizhi/dizhi?type=xuanze"})},getOrderData:function(){var t=this,i=t.options,e=function(i){var e=i.data;if(1!==i.code)return c.globalData.showError(i.msg),!1;var n={};n.curDelivery=e.delivery,n.isShowTab=e.setting.delivery.length>1,""===t.linkman&&(n.linkman=e.last_extract.linkman),""===t.phone&&(n.phone=e.last_extract.phone),t.setData(Object.assign({},e,n)),uni.hideLoading()};uni.showLoading({title:t.$t("m.jiazai")+"..."}),c.globalData._get("sharing.order/checkout",{order_type:i.order_type,goods_id:i.goods_id,goods_num:i.goods_num,goods_sku_id:i.goods_sku_id,delivery:t.curDelivery||0,shop_id:t.selectedShopId||0,coupon_id:t.selectCouponId||0,is_use_points:t.isUsePoints?1:0},(function(t){e(t)}))},onSwichDelivery:function(t){var i=this;i.setData({curDelivery:t.currentTarget.dataset.current}),i.getOrderData()},onSelectAddress:function(){var t=this;t.setData({notRefresh:!1}),uni.navigateTo({url:"../../address/"+(t.exist_address?"index?from=flow":"create")})},onSelectExtractPoint:function(){var t=this,i=t.selectedShopId;t.setData({notRefresh:!1}),uni.navigateTo({url:"../../_select/extract_point/index?selected_id="+i})},onTargetGoods:function(t){uni.navigateTo({url:"../goods/index?goods_id=".concat(t.currentTarget.dataset.id)})},onSubmitOrder:function(){var t=this,i=t.options;if(t.disabled)return!1;if(!t._onVerify())return!1;t.disabled=!0;var e=function(){uni.showLoading({title:"正在处理..."}),c.globalData._post_form("sharing.order/checkout",{order_type:i.order_type||10,goods_id:i.goods_id,goods_num:i.goods_num,goods_sku_id:i.goods_sku_id,delivery:t.curDelivery||0,pay_type:t.curPayType,shop_id:t.selectedShopId||0,linkman:t.linkman,phone:t.phone,active_id:i.active_id||0,coupon_id:t.selectCouponId||0,is_use_points:t.isUsePoints?1:0,remark:t.remark||"",address_id:t.address_id},(function(i){t._onSubmitCallback(i)}),(function(t){}),(function(){uni.hideLoading(),t.disabled=!1,t.setData({notRefresh:!0})}))};e()},_onRequestSubscribeMessage:function(t){var i=this,e=i.setting.order_submsg;0!=e.length?uni.requestSubscribeMessage({tmplIds:e,success:function(t){},fail:function(t){},complete:function(i){t()}}):t()},_onSubmitCallback:function(t){var i=this;if(-10===t.code)return c.globalData.showError(t.msg,(function(){i.redirectToOrderIndex()})),!1;t.data.pay_type==r.default.WECHAT.value&&c.globalData.wxPayment({payment:t.data.payment,success:function(t){i.redirectToOrderIndex()},fail:function(e){c.globalData.showError(t.msg.error,(function(){i.redirectToOrderIndex()}))}}),t.data.pay_type==r.default.BALANCE.value&&c.globalData.showSuccess(t.msg.success,(function(){i.redirectToOrderIndex()}))},_onVerify:function(){var t=this;if(t.has_error)return c.globalData.showError(t.error_msg),!1;if(t.curDelivery==d.default.EXTRACT.value){if(t.setData({linkman:t.linkman.trim(),phone:t.phone.trim()}),t.selectedShopId<=0)return c.globalData.showError(t.$t("pintuandingdan.fqmendian")),!1;if(l.default.isEmpty(t.linkman))return c.globalData.showError(t.$t("pintuandingdan.fqziti")),!1;if(l.default.isEmpty(t.phone))return c.globalData.showError(t.$t("pintuandingdan.fqzitidianhua")),!1;if(!l.default.isPhone(t.phone))return c.globalData.showError(t.$t("pintuandingdan.fqzhengquedianhua")),!1}return!0},bindRemark:function(t){var i=this;i.setData({remark:t.detail.value})},onTogglePopupCoupon:function(){var t=this;t.coupon_list.length>0&&t.setData({showBottomPopup:!t.showBottomPopup})},onSelectCoupon:function(t){var i=this;i.setData({selectCouponId:t.currentTarget.dataset.id}),i.getOrderData(),i.onTogglePopupCoupon()},onNotUseCoupon:function(){var t=this;t.setData({selectCouponId:0}),t.getOrderData(),t.onTogglePopupCoupon()},onSelectPayType:function(t){var i=this;c.globalData.saveFormId(t.detail.formId),i.setData({curPayType:t.currentTarget.dataset.value})},redirectToOrderIndex:function(){uni.redirectTo({url:"../order/index"})},onInputLinkman:function(t){var i=this;i.setData({linkman:t.detail.value})},onInputPhone:function(t){var i=this;i.setData({phone:t.detail.value})},onTriggerPoints:function(t){var i=t.detail,e=this;e.setData({isUsePoints:i}),e.getOrderData()},onShowPoints:function(t){var i=this;c.globalData.saveFormId(t.detail.formId);var e=i.setting;(0,u.default)({title:"".concat(e.points_name)+i.$t("pintuandingdan.fqshuoming"),message:e.points_describe,selector:"#zan-base-dialog",isScroll:!0,buttons:[{text:i.$t("pintuandingdan.fqguanbi"),color:"red",type:"cash"}]})}}};i.default=f},cca0:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";.address_indexs[data-v-02f413d9]{display:flex;align-items:center;justify-content:space-between}.address_indexs_r[data-v-02f413d9]{font-size:%?24?%;color:#777;border:1px solid #777;padding:%?8?% %?20?%;border-radius:%?50?%}\r\n\r\n/* 选项卡 */.swiper-tab[data-v-02f413d9]{width:100%;text-align:center;height:%?85?%;background-color:#fff;border-bottom:1px solid #f8f8f8}.swiper-tab .swiper-tab-item[data-v-02f413d9]{width:35%;height:100%;font-size:%?28?%;color:#777;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-bottom:2px solid hsla(0,0%,100%,0)}.swiper-tab .on[data-v-02f413d9]{color:#fd4a5f;border-bottom:2px solid #fd4a5f}\r\n\r\n/* 配送信息 */.flow-delivery[data-v-02f413d9]{padding:%?34?% %?30?%;background:#fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAAANCAYAAADVGpDCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3Yjk4M2ExYy1jMDhkLTQ1OTktYTI0Ny1kZjNjYzdiYTQ5ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQwNkY3RkU5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQwNkY3RkQ5N0NGMTFFNUI3N0M4NTU4MzM2RjlFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNzgwZWI1NS03OGFhLTQzOTUtODQ4OC1lOWI5YmVlYTY1ZDciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1OTRiYzUyMy1jMzc3LTExNzgtYTdkZS04NGY3YmM1ZGIxMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz556PLxAAACBElEQVR42tyaSyhEYRTHP48imlKibDQeSSlkSlEWLCRFsZNH5FE2FqQ8ErIRC9lIkTwXSpMkWWChhEJCSnlkoUZGSsr78f98n43CMFPu/Z/6NZuZ2zn33/+cb869XkmLx8IDEQaGQJbgiytQDSY3MyL+LYnL/HxPXSoHDIJQQq2WQQk4Dbbb/yUB29LJ+6e3B66VB3ZITbUIEqSpCGoJBP1ghtBUD6ARpEtTGSEhXzd+awE9oJzQUPegWdf3QlBPMhgDMYRa7YNisGWkpP5qrBQtVBShUHugUE9hs4fUtwG0utlEjRivoA/Ug1sj3vjffr8FNJEK1auPFHcE9UTq5pdK2PwcoAzMG7mjuRrRYEIfK9jiDJSCBZJ6ynSTsBBqNQ0qgdPISbq6vJCFbJOaagrEk5gqWNczRGiqG1Ah1LLMafRkf5pYIUKtZnMJDXUNasAIST2ZYFioRx9ssQaKwJFZEv5uYmWDXVJTrYBEElP562PfPKGpnkAbSDOTqb6aWAGgW6iHol5kQj2CdtAJngnqkc1hHMQRNr9DPaXWzZj8Z2PZtFCxhEIdaKE2CGqRJ4060AH8CLUaALX6f5VpBZLhI9SaeZXQVHKNLt84SCIxVbhQi5YuQlNd6OVElZlN9TGxrGBUn2PZ4lyoTdIsST0FQj0UDSLUak6ot3gcBLVY3wQYAJoVXxmNERajAAAAAElFTkSuQmCC") 0 100% repeat-x;background-size:%?120?% auto}.detail-content[data-v-02f413d9]{padding:0 %?20?%}.detail-content__title[data-v-02f413d9]{margin-bottom:%?6?%}.detail-content .detail-content__title-phone[data-v-02f413d9]{margin-left:%?10?%}.detail-content .detail-content__describe[data-v-02f413d9]{font-size:%?28?%}\r\n\r\n/* 买家留言 */.flow-all-money .ipt-wrapper uni-input[data-v-02f413d9]{width:100%}\r\n\r\n/* 商品列表 */.checkout_list[data-v-02f413d9]{padding:%?20?% %?30?% %?4?% %?30?%;background:#fff;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-02f413d9]{padding:%?5?% 0 %?10?%;border-bottom:%?1?% solid #f8f8f8}.checkout_list .flow-shopList[data-v-02f413d9]:last-child{border-bottom:0}.flow-header-left[data-v-02f413d9]{padding:%?0?% %?90?%}\r\n\r\n/* 会员价 */.flow-shopList .flow-list-right .flow-cont.price-delete[data-v-02f413d9]{font-size:%?26?%;color:#777;text-decoration:line-through}.flow-shopList .grade-price[data-v-02f413d9]{padding-top:%?8?%;font-size:%?28?%;color:#ff495e;text-align:right}\r\n\r\n/* 优惠券选择 */.popup__coupon[data-v-02f413d9]{width:%?750?%;background:#fff;box-sizing:border-box;padding:%?30?%}.popup__coupon .coupon__do_not .control[data-v-02f413d9]{width:90%;height:%?72?%;margin-bottom:%?24?%;color:#888;border:%?1?% solid #e3e3e3;border-radius:%?10?%}.popup__coupon .coupon__title[data-v-02f413d9]{text-align:center;margin-bottom:%?30?%}.popup__coupon .coupon-list .coupon-item[data-v-02f413d9]{position:relative;overflow:hidden;margin-bottom:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper[data-v-02f413d9]{display:flex;background:#fff;border-radius:%?8?%;color:#fff;height:%?170?%;overflow:hidden}.popup__coupon .coupon-list .coupon-item .item-wrapper .coupon-type[data-v-02f413d9]{position:absolute;top:0;right:0;z-index:10;width:%?128?%;padding:3px 0;background:#a771ff;font-size:%?20?%;text-align:center;color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:%?64?% %?64?%;transform-origin:%?64?% %?64?%}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__blue[data-v-02f413d9]{background:linear-gradient(-125deg,#57bdbf,#2f9de2)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__red[data-v-02f413d9]{background:linear-gradient(-128deg,#ff6d6d,#ff3636)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet[data-v-02f413d9]{background:linear-gradient(-113deg,#ef86ff,#b66ff5)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet .coupon-type[data-v-02f413d9]{background:#55b5ff}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__yellow[data-v-02f413d9]{background:linear-gradient(-141deg,#f7d059,#fdb054)}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip[data-v-02f413d9]{position:relative;flex:0 0 32%;text-align:center;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .money[data-v-02f413d9]{font-weight:700;font-size:%?46?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .pay-line[data-v-02f413d9]{font-size:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-02f413d9]{position:relative;flex:0 0 0;border-left:%?4?% solid #fff;margin:0 5px 0 3px;background:#fff}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-02f413d9]:before,\r\n.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-02f413d9]:after{content:"";position:absolute;width:12px;height:6px;background:#fff;left:-7px;z-index:1}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-02f413d9]:before{border-radius:0 0 8px 8px;top:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-02f413d9]:after{border-radius:8px 8px 0 0;bottom:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .content[data-v-02f413d9]{flex:1;padding:%?30?% %?20?%;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .title[data-v-02f413d9]{font-size:%?34?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .time[data-v-02f413d9]{font-size:%?24?%;line-height:%?24?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .state[data-v-02f413d9]{height:%?46?%;width:%?122?%;line-height:%?92?%;text-align:center;color:#fff;font-size:%?26?%}\r\n\r\n/* 积分抵扣 */.points .title[data-v-02f413d9]{margin-right:%?5?%}.points .icon-help[data-v-02f413d9]{font-size:%?28?%}.points .points-money[data-v-02f413d9]{margin-right:%?20?%}\r\n\r\n/* 支付方式 */.pay-method .pay-item[data-v-02f413d9]{padding:%?20?% 0;font-size:%?28?%;border-bottom:%?1?% solid #f8f8f8}.pay-method .pay-item .item-left_icon[data-v-02f413d9]{margin-right:%?20?%;font-size:%?32?%}.pay-method .pay-item .item-left_icon.wechat[data-v-02f413d9]{color:#00c800}.pay-method .pay-item .item-left_icon.balance[data-v-02f413d9]{color:#ff9700}\r\n\r\n/* 门店自提联系人 */.flow-extract-contact[data-v-02f413d9]{padding:%?8?% %?24?%;font-size:%?28?%;color:#444}.flow-extract-contact .contact-item[data-v-02f413d9]{padding:%?10?% 0;border-bottom:%?1?% solid #f8f8f8}.flow-extract-contact .contact-item[data-v-02f413d9]:last-child{border-bottom:none}.flow-extract-contact .item_label[data-v-02f413d9]{margin-right:%?26?%;width:%?150?%}.flow-extract-contact .item_ipt uni-input[data-v-02f413d9]{font-size:%?28?%;width:100%}.flow-extract-contact .item_ipt .input-placeholder[data-v-02f413d9]{font-size:%?28?%}',""]),t.exports=i},d5f1:function(t,i,e){"use strict";var n=e("7f28"),a=e.n(n);a.a}}]);