(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-list"],{"4e7e":function(t,i,e){"use strict";e.r(i);var a=e("53a0"),s=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=s.a},"53a0":function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("5c47"),e("af8f"),e("c223");var a=getApp(),s={data:function(){return{scrollHeight:null,gaodu:a.globalData.height,gaodutops:a.globalData.top,imgUrl:a.globalData.imgUrl,showView:!1,sortType:"all",sortPrice:!1,option:{search:!1},list:{data:{length:0}},no_more:!1,isLoading:!0,page:1}},onLoad:function(t){this.setListHeight(),this.setData({option:t}),this.setShowView(),this.getGoodsList()},onShareAppMessage:function(){return{title:"全部分类",path:"/pages/category/index?"+a.globalData.getShareUrlParams()}},methods:{jumpzuo:function(){uni.navigateBack()},setShowView:function(){this.setData({showView:uni.getStorageSync("category/list::showView")||!1})},getGoodsList:function(t,i){var e=this;a.globalData._get("goods/lists",{page:i||1,sortType:this.sortType,sortPrice:this.sortPrice?1:0,category_id:this.option.category_id||0,search:this.option.search||""},(function(i){var a=i.data.list,s=e.list;1==t?e.setData({"list.data":s.data.concat(a.data),isLoading:!1}):e.setData({list:a,isLoading:!1})}))},setListHeight:function(){var t=this;uni.getSystemInfo({success:function(i){t.setData({scrollHeight:i.windowHeight-90})}})},switchSortType:function(t){var i=this,e=t.currentTarget.dataset.type,a="price"!==e||!this.sortPrice;this.setData({list:{},isLoading:!0,page:1,sortType:e,sortPrice:a},(function(){i.getGoodsList()}))},onChangeShowState:function(){var t=!this.showView;uni.setStorageSync("category/list::showView",t),this.setData({showView:t})},bindDownLoad:function(){if(this.page>=this.list.last_page)return this.setData({no_more:!0}),!1;this.getGoodsList(!0,++this.page)},triggerSearch:function(){var t=getCurrentPages();t.length>1&&"pages/search/index"===t[t.length-2].route?uni.navigateBack():uni.navigateTo({url:"../search/index"})}}};i.default=s},"7fc9":function(t,i,e){var a=e("81a3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("967d").default;s("024b038b",a,!0,{sourceMap:!1,shadowMode:!1})},"81a3":function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,".store_nav_cont[data-v-dbdf4962]{padding:%?20?% 0}.store_nav_cont #list-true[data-v-dbdf4962]{color:#ff495e;font-size:%?28?%}.store_nav_cont #list-0[data-v-dbdf4962]{color:#333;font-size:%?28?%}.store_nav_cont .price__arrow[data-v-dbdf4962]{padding-left:%?20?%;font-size:%?18?%;color:#777}.store_nav_cont #list-true .price__arrow uni-text.active[data-v-dbdf4962]{color:#ff495e}.container[data-v-dbdf4962]{position:relative}.index-cont-search uni-icon[data-v-dbdf4962]{left:0;margin-left:%?20?%;margin-top:%?0?%!important}.index-search-box[data-v-dbdf4962]{background:#fff;padding:%?18?% %?13?%;border-bottom:%?1?% solid #eee}.index-search[data-v-dbdf4962]{border-bottom:0;background:#fff;border-radius:%?50?%;overflow:hidden;position:relative;font-size:%?32?%;color:#999;box-sizing:border-box;height:%?64?%;line-height:%?64?%;margin:0 %?10?%}.list-right[data-v-dbdf4962]{width:%?60?%}.list-right uni-text[data-v-dbdf4962]{height:%?60?%;line-height:%?60?%;font-size:%?40?%}.list-header[data-v-dbdf4962]{position:fixed;top:%?150?%;left:0;right:0}.no-more[data-v-dbdf4962]{text-align:center;color:#737373;padding:%?20?% 0}.category-list[data-v-dbdf4962]{overflow:hidden}.category-list .list[data-v-dbdf4962]{box-sizing:border-box;width:50%;float:left}.category-list .list[data-v-dbdf4962]:nth-child(2n){border-left:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list[data-v-dbdf4962]:nth-child(2n-1){border-right:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list .left[data-v-dbdf4962],\n.category-list .right[data-v-dbdf4962]{width:100%}.category-list .list .left .img uni-image[data-v-dbdf4962]{width:100%;height:%?375?%;display:block}.category-list .right .cont[data-v-dbdf4962]{padding:%?10?% %?12?%}.category-list .right .cont .title[data-v-dbdf4962]{height:%?72?%;line-height:1.3}.category-list.arrange .list[data-v-dbdf4962]{overflow:hidden;padding:%?15?%;border-bottom:%?1?% solid #f7f7f7;width:100%}.category-list.arrange .list uni-text[data-v-dbdf4962]{line-height:1.6}.category-list.arrange .list .left[data-v-dbdf4962]{width:35%;float:left}.category-list.arrange .list .right[data-v-dbdf4962]{width:65%;float:left}.category-list.arrange .list .left .img uni-image[data-v-dbdf4962]{width:%?220?%;height:%?220?%}\n\n/* 商品卖点 */.selling_point[data-v-dbdf4962]{width:100%;font-size:%?24?%;line-height:1.4;color:#ff495e}.goods_sales[data-v-dbdf4962]{color:#999;font-size:%?24?%}\n\n/* 商品价格 */.detail-price[data-v-dbdf4962]{font-size:%?24?%}.detail-price .goods-price[data-v-dbdf4962]{margin-right:%?8?%}.detail-price .line-price[data-v-dbdf4962]{text-decoration:line-through}",""]),t.exports=i},c635:function(t,i,e){"use strict";var a=e("7fc9"),s=e.n(a);s.a},dab2:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{"background-color":"#fff"}},[e("v-uni-view",{staticClass:"header_wi"},[e("v-uni-view",{staticClass:"header_height",style:"height:"+t.gaodu+"px;line-height:"+t.gaodu+"px;top:"+t.gaodutops+"px;"},[e("v-uni-view",{staticClass:"index_h_cont3"},[e("v-uni-view",{staticClass:"index_wenben_img",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpzuo.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:t.imgUrl+"/dzx_img33.png",mode:"widthFix"}})],1),e("v-uni-view",{staticClass:"index_wenben"},[t._v(t._s(t.$t("page_detail.Commodity_list")))])],1)],1),e("v-uni-view",{staticClass:"coloe_title"},[t._v("s")])],1),e("v-uni-view",{staticClass:"list-header"},[e("v-uni-view",{staticClass:"index-search-box dis-flex"},[e("v-uni-view",{staticClass:"index-search flex-box",on:{click:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.triggerSearch.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"index-cont-search"},[e("v-uni-icon",{staticClass:"text-center",staticStyle:{top:"24%!important"},attrs:{size:"15",type:"search"}}),e("v-uni-text",[t._v(t._s(t.option.search?t.option.search:"搜索商品"))])],1)],1),e("v-uni-view",{staticClass:"list-right f-28",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onChangeShowState.apply(void 0,arguments)}}},[t.showView?e("v-uni-text",{staticClass:"iconfont icon-tubiao_kuaizhuangpailie"}):e("v-uni-text",{staticClass:"iconfont icon-tubiao_liebiaopailie"})],1)],1),e("v-uni-view",{staticClass:"store_nav_cont dis-flex b-f b-b"},[e("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"all","data-index":"0 ",id:"list-"+("all"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("综合")])],1),e("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"sales","data-index":"1",id:"list-"+("sales"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("销量")])],1),e("v-uni-view",{staticClass:"dis-flex flex-x-center flex-box t-c p-r",attrs:{"data-type":"price","data-index":"2",id:"list-"+("price"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"price__text"},[t._v("价格")]),e("v-uni-view",{staticClass:"price__arrow dis-flex flex-dir-column flex-x-center flex-y-center"},[e("v-uni-text",{class:"iconfont icon-arrow-top "+(t.sortPrice?"":"active")}),e("v-uni-text",{class:"iconfont icon-arrow-bottom "+(t.sortPrice?"active":"")})],1)],1)],1),t.list.data.length>0?e("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px; width: 750rpx;",attrs:{"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDownLoad.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"new"},[e("v-uni-view",{class:"category-list "+(t.showView?"arrange":"")},t._l(t.list.data,(function(i,a){return e("v-uni-navigator",{key:i.list,staticClass:"list b-f",attrs:{"hover-class":"none",url:"../goods/index?goods_id="+i.goods_id}},[e("v-uni-view",{staticClass:"left"},[e("v-uni-view",{staticClass:"img"},[e("v-uni-image",{staticClass:"goodsImg",attrs:{mode:"scaleToFill",src:i.goods_image}})],1)],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-view",{staticClass:"cont"},[e("v-uni-text",{staticClass:"title f-29 twolist-hidden"},[t._v(t._s(i.goods_name))]),t.showView?[e("v-uni-view",{staticClass:"selling_point onelist-hidden"},[e("v-uni-text",[t._v(t._s(i.selling_point))])],1),e("v-uni-view",{staticClass:"goods_sales dis-flex"},[e("v-uni-text",{staticClass:"onelist-hidden"},[t._v("已售"+t._s(i.goods_sales)+"件")])],1)]:t._e(),e("v-uni-view",{staticClass:"detail-price onelist-hidden"},[e("v-uni-text",{staticClass:"goods-price f-30 col-m"},[t._v("￥"+t._s(i.goods_sku.goods_price))]),i.goods_sku.line_price>0?e("v-uni-text",{staticClass:"line-price col-9 f-24"},[t._v(t._s(i.goods_sku.line_price))]):t._e()],1)],2)],1)],1)})),1)],1),t.no_more?e("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e()],1):t._e()],1),t.isLoading||t.list.data.length?t._e():e("v-uni-view",{staticClass:"yoshop-notcont",staticStyle:{"margin-top":"130px"}},[e("v-uni-view",{staticClass:"img"},[e("v-uni-image",{attrs:{mode:"aspectFit",src:"/static/images/no_content.png"}})],1),e("v-uni-text",{staticClass:"cont"},[t._v("亲, 没有相关内容")])],1)],1)},s=[]},dd64:function(t,i,e){"use strict";e.r(i);var a=e("dab2"),s=e("4e7e");for(var o in s)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(o);e("c635");var n=e("828b"),d=Object(n["a"])(s["default"],a["b"],a["c"],!1,null,"dbdf4962",null,!1,a["a"],void 0);i["default"]=d.exports}}]);