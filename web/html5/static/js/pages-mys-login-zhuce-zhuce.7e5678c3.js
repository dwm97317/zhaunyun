(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mys-login-zhuce-zhuce"],{"0daa":function(e,t,i){var n=i("e29c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("967d").default;a("4df3ccae",n,!0,{sourceMap:!1,shadowMode:!1})},"484a":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticStyle:{"margin-top":"30px"}},[n("v-uni-view",{staticClass:"logintitle"},[e._v("注册")]),n("v-uni-view",{staticClass:"img_small"}),n("v-uni-view",{staticClass:"inputword"},[n("v-uni-view",{staticClass:"flex"},[1==e.is_phone?n("v-uni-view",{staticStyle:{width:"65px","border-right":"1px solid #d9d9d9"}},[n("v-uni-picker",{attrs:{mode:"selector",value:e.defaultIndex,range:e.columns,"range-key":"cname"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirm.apply(void 0,arguments)}}},[n("v-uni-view",[e._v("+ "+e._s(e.searchForm.searchMatterEnumCode))])],1)],1):e._e(),n("v-uni-view",{staticClass:"phonecode"},[n("v-uni-input",{attrs:{border:"none",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),20==e.setting.checkphone?n("v-uni-view",{staticClass:"flex"},[n("v-uni-input",{staticClass:"code",attrs:{placeholder:"请输入手机验证码",border:"none"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e.smsState?n("v-uni-text",{staticClass:"un-activate"},[e._v("重新发送("+e._s(e.times)+")秒")]):n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode(e.phone)}}},[e._v("获取验证码")])],1):e._e(),n("v-uni-view",{staticClass:"flex"},[n("v-uni-view",{staticClass:"phonecode"},[n("v-uni-input",{attrs:{border:"none",placeholder:"请输入邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),10==e.setting.checkphone?n("v-uni-view",{staticClass:"flex"},[n("v-uni-input",{staticClass:"code",attrs:{placeholder:"请输入邮箱验证码",border:"none"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e.smsState?n("v-uni-text",{staticClass:"un-activate"},[e._v("重新发送("+e._s(e.times)+")秒")]):n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getEmail(e.phone)}}},[e._v("获取验证码")])],1):e._e(),n("v-uni-view",{staticClass:"flex"},[n("v-uni-input",{attrs:{disabledColor:"#ffffff",placeholder:"请输入密码",border:"none"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-uni-view",{staticClass:"flex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tojump.apply(void 0,arguments)}}},[n("v-uni-input",{attrs:{disabledColor:"#ffffff",placeholder:"请输入确认密码",border:"none"},model:{value:e.surepassword,callback:function(t){e.surepassword=t},expression:"surepassword"}})],1),n("v-uni-view",{staticClass:"login",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register(e.phone,e.code)}}},[e._v("注册")]),n("v-uni-view",{staticClass:"agree"},[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#F6C416",checked:e.checkagree}}),e._v("我已同意"),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.guizeshows.apply(void 0,arguments)}}},[e._v("『用户隐私协议』")])],1),n("v-uni-view",{staticClass:"smallgray",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loginjump.apply(void 0,arguments)}}},[e._v("已有账号,立即登录")]),n("v-uni-view",{staticClass:"logotwo"},["H5-WEIXIN"==e.platfrom?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.H5weixinChange.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:i("c478"),mode:"aspectFit"}}),n("v-uni-text",[e._v("微信登录")])],1):e._e()],1)],1),e.guizeshow?n("v-uni-view",{staticClass:"baoguo_guize"},[n("v-uni-view",{staticClass:"baoguo_guize_banner"},[n("v-uni-view",{staticClass:"baoguo_guize_title"},[e._v("《"+e._s(e.guizes.article_title)+"》")]),n("v-uni-view",{},[n("v-uni-rich-text",{attrs:{nodes:e.article_content}})],1),n("v-uni-view",{staticClass:"baoguo_guize_btns",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isguizeshows.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"baoguo_guize_btns_txt"},[e._v("我知道了")])],1)],1)],1):e._e()],1)},a=[]},"4ab0":function(e,t,i){"use strict";var n=i("0daa"),a=i.n(n);a.a},"87f7":function(e,t,i){"use strict";i.r(t);var n=i("484a"),a=i("e7bd");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("4ab0");var s=i("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"05c727de",null,!1,n["a"],void 0);t["default"]=c.exports},c478:function(e,t,i){e.exports=i.p+"static/pages/images/wxlogin.png"},e29c:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,"uni-page-body[data-v-05c727de]{background-color:#fff}body.?%PAGE?%[data-v-05c727de]{background-color:#fff}.bangdindixlog[data-v-05c727de]{width:100%;position:absolute;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.3);z-index:4}.codebangdindixlog[data-v-05c727de]{margin:15px 0;display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.phonecode[data-v-05c727de]{width:72%}.btns uni-view[data-v-05c727de]{display:inline-block;font-weight:200;padding:4px 7px;color:#fff;border-radius:3px;background-color:#8f939c;border-width:1px;border-style:solid;border-color:#8f939c;margin-right:10px}.btns uni-view.surebangdin[data-v-05c727de]{background-color:#f6c416;border-color:#f6c416;color:#000}.btns[data-v-05c727de]{text-align:right}.box[data-v-05c727de]{width:84%;position:absolute;bottom:30%;left:3%;z-index:5;background-color:#fff;padding:10% 5%;border-radius:6px}.phonebangdin[data-v-05c727de]{font-size:16px}.baoguo_guize[data-v-05c727de]{background:rgba(0,0,0,.5);width:100%;height:100%;position:fixed;top:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center}.baoguo_guize_banner[data-v-05c727de]{background:#fff;padding:%?20?% %?20?% 0 %?20?%;margin:%?30?%;border-radius:%?8?%;overflow:scroll;height:60vh}.baoguo_guize_cont[data-v-05c727de]{font-size:%?32?%;line-height:%?45?%;margin-top:%?20?%;color:#333}.baoguo_guize_cont[data-v-05c727de]:first-child{margin-top:0}.baoguo_guize_title[data-v-05c727de]{font-size:%?36?%;color:#333;text-align:center;margin-bottom:%?30?%}.baoguo_guize_btns[data-v-05c727de]{border-top:1px solid #e8e8e8;padding:%?30?%;margin-top:%?30?%}.baoguo_guize_btns_txt[data-v-05c727de]{font-size:%?35?%;text-align:center}.baoguo_guize_list[data-v-05c727de]{height:%?700?%;overflow-y:auto}uni-rich-text[data-v-05c727de]{font-size:%?28?%;color:#333;line-height:%?50?%}.agree[data-v-05c727de]{padding:20px 0;font-size:14px;color:#444}.agree uni-text[data-v-05c727de]{color:#f6c416}.logotwo[data-v-05c727de]{display:flex;align-items:center;justify-content:center;margin-top:40px}.logotwo uni-view[data-v-05c727de]{text-align:center;font-size:12px;color:#666}.logotwo uni-image[data-v-05c727de]{width:40px;display:block;height:40px;margin:0 auto 6px}.codeslide[data-v-05c727de]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;overflow:hidden;margin-top:10px}.codeslide uni-view[data-v-05c727de]{margin-right:10px}.smallgray[data-v-05c727de]{font-size:12px;color:#666;padding:10px 0 20px;text-align:center}.logintitle[data-v-05c727de]{color:rgba(0,0,0,.8);margin:0;font-size:18px;padding:20px 0;text-align:center;font-weight:700}.logo[data-v-05c727de]{width:48px;height:48px;display:block;margin:20px auto 10px}.img_small[data-v-05c727de]{text-align:center;font-size:14px;color:#666}.input[data-v-05c727de]{border:.104167rem solid #fff;height:35px;padding:3px 20px!important;overflow:hidden;background:#f0f0f0;transition:border .3s cubic-bezier(.4,0,.2,1) 0ms;border-radius:.920139rem;margin-top:30px}.inputword[data-v-05c727de]{width:89%;margin:20px auto}.code[data-v-05c727de]{width:60%}.flex[data-v-05c727de]{display:flex;align-items:flex-end;align-items:center;justify-content:space-between;padding:3px 20px!important;height:35px;overflow:hidden;background:#f0f0f0;border-radius:.920139rem;margin-top:10px}.login[data-v-05c727de]{\r\n\t/* width: 370px; */height:44px;margin:0 auto;margin-top:25px;text-align:center;line-height:44px;color:#fff;background:linear-gradient(180deg,#3375ff,#1a65ff);border-radius:106px 106px 106px 106px;opacity:1}",""]),e.exports=t},e710:function(e,t,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("23f4"),i("7d2f"),i("5c47"),i("9c4e"),i("ab80"),i("2c10"),i("af8f"),i("0506"),i("a1c1");var a=n(i("39d8")),o=getApp(),s=i("0e07"),c=i("e51c"),d={data:function(){var e;return e={checkbindphone:!1,imgUrl:o.globalData.imgUrl,platfrom:c.default,bangdincode:"",bangdinphone:"",password:null,surepassword:null,guizeshow:!1,phone:null,code:null,scode:null,times:60,is_phone:0,smsState:!1,checkagree:!1,article_content:"",guizes:{article_title:""},columns:[],pickerShow:!1,searchForm:{searchMatterEnumCode:86,searchMatterEnumName:"中国"},setting:uni.getStorageSync("setting")},(0,a.default)(e,"checkbindphone",!1),(0,a.default)(e,"defaultIndex",0),(0,a.default)(e,"email",""),e},onload:function(){},onShow:function(){this.getCountryQianZhui(),this.guize()},methods:{H5weixinChange:function(){var e=this,t=this.getUrlParam("code"),i=window.location.href;console.log(t,8676);encodeURIComponent(i);if(null==t||""===t)this.getUserProfile();else{var n={code:t};s.post("index.php?s=/api/user/loginwx&wxapp_id="+uni.getStorageSync("web_id"),n).then((function(t){console.log(t,678),e.token=t.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"})}))}},getUserProfile:function(){this.islogin||("H5-WEIXIN"==c.default?s.post("index.php?s=/api/user/getCode&wxapp_id="+uni.getStorageSync("web_id")).then((function(e){console.log(e,78),window.location=e.data})):uni.navigateTo({url:"/pages/mys/login/login"}))},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},loginChange:function(){var e=this;uni.getUserProfile({desc:"用于完善会员资料",success:function(t){uni.login({success:function(i){if(i.code){var n=i.code;uni.setStorageSync("userInfo",t.userInfo);var a=uni.getStorageSync("userInfo"),o={code:n,user_info:a,from:"common",encrypted_data:t.encryptedData,iv:t.iv,signature:t.signature,referee_id:uni.getStorageSync("referee_id")};s.post("index.php?s=/api/user/login&wxapp_id="+uni.getStorageSync("web_id"),o).then((function(t){console.log(t,"22222"),1==t.data.code&&(e.token=t.data.data.token,uni.setStorageSync("token",e.token),uni.navigateTo({url:"/pages/my/my"}))}))}else uni.showToast({title:"网络似乎开小差了！",icon:"none",duration:2e3})}})},fail:function(e){uni.showToast({title:"您没有登录，将无法使用部分功能！",icon:"none",duration:2e3})}})},gerenxinxi:function(){var e=this,t={token:uni.getStorageSync("token")};s.get("index.php?s=/api/user/detail&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){if(1==t.data.code){if((""==t.data.data.userInfo.mobile||0==t.data.data.userInfo.mobile)&&1==uni.getStorageSync("setting")["is_getphone"])return void(e.checkbindphone=!0);uni.showToast({title:"登录成功",icon:"success",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)}}))},bindphone:function(e){if(!e)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var t={token:uni.getStorageSync("token"),mobile:this.bangdinphone,smsCode:this.scode};s.get("index.php?s=/api/user/changePhone&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(e){1==e.data.code?(uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.switchTab({url:"/pages/mine/mine"})}),1e3)):uni.showToast({title:e.data.msg,icon:"none",duration:2e3})}))},loginjump:function(){uni.navigateTo({url:"../login"})},phonelogin:function(){uni.navigateTo({url:"../login"})},pickerConfirm:function(e){console.log("点击确定",e),this.defaultIndex=e.detail.value,this.searchForm.searchMatterEnumCode=this.columns[e.detail.value].areanum,this.searchForm.searchMatterEnumName=this.columns[e.detail.value].cname},getCountryQianZhui:function(){var e=this;s.get("index.php?s=/api/page/getCountryQianZhui&wxapp_id="+uni.getStorageSync("web_id"),{}).then((function(t){1==t.data.code&&(e.columns=t.data.data,console.log(t.data.data))}))},register:function(e,t){var i={tel_code:this.searchForm.searchMatterEnumCode,mobile:this.phone,smsCode:this.code,password:this.password,surepassword:this.surepassword,email:this.email};if(this.password!=this.surepassword)return uni.showToast({title:"两次密码不一致",icon:"none",duration:2e3}),!1;s.post("index.php?s=api/passport/register&wxapp_id="+uni.getStorageSync("web_id"),i).then((function(e){1==e.data.code?(uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/mys/login/login"})}),1500)):uni.showToast({title:e.data.msg,icon:"none",duration:2e3})}))},getbangdinCode:function(){var e=this;if(!this.bangdinphone)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var t={form:{mobile:this.bangdinphone,tel_code:this.searchForm.searchMatterEnumCode,type:40}};console.log(t),s.post("index.php?s=/api/captcha/sendSmsCaptcha&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){1==t.data.code&&e.timer()}))},getCode:function(){var e=this;if(!this.phone)return uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}),!1;var t={form:{mobile:this.phone,tel_code:this.searchForm.searchMatterEnumCode,type:10}};console.log(t),s.post("index.php?s=/api/captcha/sendSmsCaptcha&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){1==t.data.code&&e.timer()}))},getEmail:function(){var e=this;if(!/^(?!_)\w+([\.-]?\w+)*@(?!_)\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.email))return uni.showToast({title:"邮箱格式错误",icon:"none",duration:2e3}),!1;if(!this.email)return uni.showToast({title:"请输入邮箱",icon:"none",duration:2e3}),!1;var t={form:{email:this.email,tel_code:this.searchForm.searchMatterEnumCode,type:10}};console.log(t),s.post("index.php?s=/api/captcha/sendEmailCaptcha&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){1==t.data.code&&e.timer()}))},timer:function(){var e=this;this.smsState=!0;var t=setInterval((function(){e.times=e.times-1,e.times<=0&&(e.smsState=!1,e.times=60,clearInterval(t))}),1e3)},jump:function(e){uni.navigateTo({url:e})},isguizeshows:function(){this.guizeshow=!1},guizeshows:function(){this.guizeshow=!0},guize:function(){var e=this,t={token:uni.getStorageSync("token")};s.post("index.php?s=/api/page/report_note&wxapp_id="+uni.getStorageSync("web_id"),t).then((function(t){if(1==t.data.code){var i=t.data.data.detail.article_content;i=i.replace(/<img/gi,'<img style="max-width:100%;height:auto;display:block" '),e.guizes=t.data.data.detail,e.article_content=i}}))}}};t.default=d},e7bd:function(e,t,i){"use strict";i.r(t);var n=i("e710"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a}}]);