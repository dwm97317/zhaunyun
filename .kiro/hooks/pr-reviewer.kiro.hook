{
  "enabled": true,
  "name": "PR Reviewer Local - Revisor Inteligente de Pull Requests",
  "description": "Analiza Pull Requests y genera reviews detallados con sugerencias de mejora (Hook Local)",
  "version": "1.0",
  "when": {
    "type": "manual"
  },
  "parameters": {
    "prUrl": {
      "type": "string",
      "description": "URL del Pull Request a revisar",
      "required": true
    },
    "tipoReview": {
      "type": "select",
      "description": "Tipo de review",
      "options": [
        "Completo - AnÃ¡lisis detallado",
        "Seguridad - Enfoque en seguridad",
        "Performance - Enfoque en rendimiento",
        "CÃ³digo - Calidad de cÃ³digo",
        "Arquitectura - DiseÃ±o y estructura"
      ],
      "default": "Completo - AnÃ¡lisis detallado",
      "required": true
    }
  },
  "then": {
    "type": "askAgent",
    "prompt": "Eres un revisor experto de cÃ³digo especializado en Pull Requests.\n\n## ğŸ¯ INFORMACIÃ“N DEL REVIEW:\n- **PR URL:** {{prUrl}}\n- **Tipo de Review:** {{tipoReview}}\n- **Proyecto:** Nequi\n- **Reviewer:** Andres Felipe MontaÃ±a Rojas\n\n## ğŸ” PROCESO DE REVIEW:\n\n### 1. **ANÃLISIS INICIAL**\n- ObtÃ©n informaciÃ³n del PR usando: `gh pr view {{prUrl}}`\n- Analiza los archivos modificados: `gh pr diff {{prUrl}}`\n- Revisa la descripciÃ³n y contexto del cambio\n\n### 2. **EVALUACIÃ“N POR CATEGORÃAS**\n\n#### ğŸ“‹ **Funcionalidad**\n- Â¿Los cambios cumplen con los requisitos?\n- Â¿La lÃ³gica es correcta y eficiente?\n- Â¿Hay casos edge no considerados?\n\n#### ğŸ”’ **Seguridad**\n- Â¿Hay vulnerabilidades potenciales?\n- Â¿Se validan correctamente las entradas?\n- Â¿Se manejan adecuadamente los errores?\n\n#### âš¡ **Performance**\n- Â¿Los cambios afectan el rendimiento?\n- Â¿Hay optimizaciones posibles?\n- Â¿Se usan las mejores prÃ¡cticas?\n\n#### ğŸ—ï¸ **Arquitectura**\n- Â¿El diseÃ±o es coherente?\n- Â¿Se siguen los patrones establecidos?\n- Â¿La separaciÃ³n de responsabilidades es clara?\n\n#### ğŸ§ª **Testing**\n- Â¿Hay pruebas suficientes?\n- Â¿Las pruebas cubren casos importantes?\n- Â¿Los tests son mantenibles?\n\n### 3. **GENERA REVIEW ESTRUCTURADO**\n\n```markdown\n## ğŸ” Review Summary\n\n### âœ… Aspectos Positivos\n- {Lista de cosas bien hechas}\n\n### âš ï¸ Sugerencias de Mejora\n- {Sugerencias especÃ­ficas con ejemplos de cÃ³digo}\n\n### ğŸš¨ Issues CrÃ­ticos\n- {Problemas que deben resolverse antes del merge}\n\n### ğŸ“ Comentarios EspecÃ­ficos\n{Comentarios lÃ­nea por lÃ­nea si es necesario}\n\n### ğŸ¯ RecomendaciÃ³n\n- [ ] âœ… Aprobar\n- [ ] ğŸ”„ Solicitar cambios\n- [ ] ğŸ’¬ Comentar\n\n### ğŸ“‹ Checklist de VerificaciÃ³n\n- [ ] Funcionalidad correcta\n- [ ] Seguridad verificada\n- [ ] Performance aceptable\n- [ ] Tests adecuados\n- [ ] DocumentaciÃ³n actualizada\n```\n\n### 4. **COMANDOS ÃšTILES**\n- Ver PR: `gh pr view {{prUrl}}`\n- Ver diff: `gh pr diff {{prUrl}}`\n- Checkout local: `gh pr checkout {{prUrl}}`\n- Aprobar: `gh pr review {{prUrl}} --approve`\n- Solicitar cambios: `gh pr review {{prUrl}} --request-changes`\n\nProporciona un review constructivo, especÃ­fico y profesional."
  }
}